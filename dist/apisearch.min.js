/*! For license information please see apisearch.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.apisearch=e():t.apisearch=e()}(self,(()=>(()=>{var t={9669:(t,e,r)=>{t.exports=r(1609)},5448:(t,e,r)=>{"use strict";var n=r(4867),i=r(6026),o=r(4372),s=r(5327),a=r(4097),u=r(4109),c=r(7985),l=r(7874),p=r(2648),d=r(644),f=r(205);t.exports=function(t){return new Promise((function(e,r){var h,_=t.data,g=t.headers,y=t.responseType;function E(){t.cancelToken&&t.cancelToken.unsubscribe(h),t.signal&&t.signal.removeEventListener("abort",h)}n.isFormData(_)&&n.isStandardBrowserEnv()&&delete g["Content-Type"];var m=new XMLHttpRequest;if(t.auth){var v=t.auth.username||"",T=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";g.Authorization="Basic "+btoa(v+":"+T)}var A=a(t.baseURL,t.url);function I(){if(m){var n="getAllResponseHeaders"in m?u(m.getAllResponseHeaders()):null,o={data:y&&"text"!==y&&"json"!==y?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:n,config:t,request:m};i((function(t){e(t),E()}),(function(t){r(t),E()}),o),m=null}}if(m.open(t.method.toUpperCase(),s(A,t.params,t.paramsSerializer),!0),m.timeout=t.timeout,"onloadend"in m?m.onloadend=I:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(I)},m.onabort=function(){m&&(r(new p("Request aborted",p.ECONNABORTED,t,m)),m=null)},m.onerror=function(){r(new p("Network Error",p.ERR_NETWORK,t,m,m)),m=null},m.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",n=t.transitional||l;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(new p(e,n.clarifyTimeoutError?p.ETIMEDOUT:p.ECONNABORTED,t,m)),m=null},n.isStandardBrowserEnv()){var S=(t.withCredentials||c(A))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;S&&(g[t.xsrfHeaderName]=S)}"setRequestHeader"in m&&n.forEach(g,(function(t,e){void 0===_&&"content-type"===e.toLowerCase()?delete g[e]:m.setRequestHeader(e,t)})),n.isUndefined(t.withCredentials)||(m.withCredentials=!!t.withCredentials),y&&"json"!==y&&(m.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&m.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(h=function(t){m&&(r(!t||t&&t.type?new d:t),m.abort(),m=null)},t.cancelToken&&t.cancelToken.subscribe(h),t.signal&&(t.signal.aborted?h():t.signal.addEventListener("abort",h))),_||(_=null);var b=f(A);b&&-1===["http","https","file"].indexOf(b)?r(new p("Unsupported protocol "+b+":",p.ERR_BAD_REQUEST,t)):m.send(_)}))}},1609:(t,e,r)=>{"use strict";var n=r(4867),i=r(1849),o=r(321),s=r(7185),a=function t(e){var r=new o(e),a=i(o.prototype.request,r);return n.extend(a,o.prototype,r),n.extend(a,r),a.create=function(r){return t(s(e,r))},a}(r(5546));a.Axios=o,a.CanceledError=r(644),a.CancelToken=r(4972),a.isCancel=r(6502),a.VERSION=r(7288).version,a.toFormData=r(7675),a.AxiosError=r(2648),a.Cancel=a.CanceledError,a.all=function(t){return Promise.all(t)},a.spread=r(8713),a.isAxiosError=r(6268),t.exports=a,t.exports.default=a},4972:(t,e,r)=>{"use strict";var n=r(644);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;this.promise.then((function(t){if(r._listeners){var e,n=r._listeners.length;for(e=0;e<n;e++)r._listeners[e](t);r._listeners=null}})),this.promise.then=function(t){var e,n=new Promise((function(t){r.subscribe(t),e=t})).then(t);return n.cancel=function(){r.unsubscribe(e)},n},t((function(t){r.reason||(r.reason=new n(t),e(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},i.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},644:(t,e,r)=>{"use strict";var n=r(2648);function i(t){n.call(this,null==t?"canceled":t,n.ERR_CANCELED),this.name="CanceledError"}r(4867).inherits(i,n,{__CANCEL__:!0}),t.exports=i},6502:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},321:(t,e,r)=>{"use strict";var n=r(4867),i=r(5327),o=r(782),s=r(3572),a=r(7185),u=r(4097),c=r(4875),l=c.validators;function p(t){this.defaults=t,this.interceptors={request:new o,response:new o}}p.prototype.request=function(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;void 0!==r&&c.assertOptions(r,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var o,u=[];if(this.interceptors.response.forEach((function(t){u.push(t.fulfilled,t.rejected)})),!i){var p=[s,void 0];for(Array.prototype.unshift.apply(p,n),p=p.concat(u),o=Promise.resolve(e);p.length;)o=o.then(p.shift(),p.shift());return o}for(var d=e;n.length;){var f=n.shift(),h=n.shift();try{d=f(d)}catch(t){h(t);break}}try{o=s(d)}catch(t){return Promise.reject(t)}for(;u.length;)o=o.then(u.shift(),u.shift());return o},p.prototype.getUri=function(t){t=a(this.defaults,t);var e=u(t.baseURL,t.url);return i(e,t.params,t.paramsSerializer)},n.forEach(["delete","get","head","options"],(function(t){p.prototype[t]=function(e,r){return this.request(a(r||{},{method:t,url:e,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(t){function e(e){return function(r,n,i){return this.request(a(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}p.prototype[t]=e(),p.prototype[t+"Form"]=e(!0)})),t.exports=p},2648:(t,e,r)=>{"use strict";var n=r(4867);function i(t,e,r,n,i){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}n.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o=i.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(t){s[t]={value:t}})),Object.defineProperties(i,s),Object.defineProperty(o,"isAxiosError",{value:!0}),i.from=function(t,e,r,s,a,u){var c=Object.create(o);return n.toFlatObject(t,c,(function(t){return t!==Error.prototype})),i.call(c,t.message,e,r,s,a),c.name=t.name,u&&Object.assign(c,u),c},t.exports=i},782:(t,e,r)=>{"use strict";var n=r(4867);function i(){this.handlers=[]}i.prototype.use=function(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){n.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},4097:(t,e,r)=>{"use strict";var n=r(1793),i=r(7303);t.exports=function(t,e){return t&&!n(e)?i(t,e):e}},3572:(t,e,r)=>{"use strict";var n=r(4867),i=r(8527),o=r(6502),s=r(5546),a=r(644);function u(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new a}t.exports=function(t){return u(t),t.headers=t.headers||{},t.data=i.call(t,t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||s.adapter)(t).then((function(e){return u(t),e.data=i.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(u(t),e&&e.response&&(e.response.data=i.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},7185:(t,e,r)=>{"use strict";var n=r(4867);t.exports=function(t,e){e=e||{};var r={};function i(t,e){return n.isPlainObject(t)&&n.isPlainObject(e)?n.merge(t,e):n.isPlainObject(e)?n.merge({},e):n.isArray(e)?e.slice():e}function o(r){return n.isUndefined(e[r])?n.isUndefined(t[r])?void 0:i(void 0,t[r]):i(t[r],e[r])}function s(t){if(!n.isUndefined(e[t]))return i(void 0,e[t])}function a(r){return n.isUndefined(e[r])?n.isUndefined(t[r])?void 0:i(void 0,t[r]):i(void 0,e[r])}function u(r){return r in e?i(t[r],e[r]):r in t?i(void 0,t[r]):void 0}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u};return n.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=c[t]||o,i=e(t);n.isUndefined(i)&&e!==u||(r[t]=i)})),r}},6026:(t,e,r)=>{"use strict";var n=r(2648);t.exports=function(t,e,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?e(new n("Request failed with status code "+r.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):t(r)}},8527:(t,e,r)=>{"use strict";var n=r(4867),i=r(5546);t.exports=function(t,e,r){var o=this||i;return n.forEach(r,(function(r){t=r.call(o,t,e)})),t}},5546:(t,e,r)=>{"use strict";var n=r(4867),i=r(6016),o=r(2648),s=r(7874),a=r(7675),u={"Content-Type":"application/x-www-form-urlencoded"};function c(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var l,p={transitional:s,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(l=r(5448)),l),transformRequest:[function(t,e){if(i(e,"Accept"),i(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t))return t;if(n.isArrayBufferView(t))return t.buffer;if(n.isURLSearchParams(t))return c(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var r,o=n.isObject(t),s=e&&e["Content-Type"];if((r=n.isFileList(t))||o&&"multipart/form-data"===s){var u=this.env&&this.env.FormData;return a(r?{"files[]":t}:t,u&&new u)}return o||"application/json"===s?(c(e,"application/json"),function(t,e,r){if(n.isString(t))try{return(0,JSON.parse)(t),n.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||p.transitional,r=e&&e.silentJSONParsing,i=e&&e.forcedJSONParsing,s=!r&&"json"===this.responseType;if(s||i&&n.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(s){if("SyntaxError"===t.name)throw o.from(t,o.ERR_BAD_RESPONSE,this,null,this.response);throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:r(1623)},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(t){p.headers[t]={}})),n.forEach(["post","put","patch"],(function(t){p.headers[t]=n.merge(u)})),t.exports=p},7874:t=>{"use strict";t.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7288:t=>{t.exports={version:"0.27.2"}},1849:t=>{"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},5327:(t,e,r)=>{"use strict";var n=r(4867);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var o;if(r)o=r(e);else if(n.isURLSearchParams(e))o=e.toString();else{var s=[];n.forEach(e,(function(t,e){null!=t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,(function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),s.push(i(e)+"="+i(t))})))})),o=s.join("&")}if(o){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},7303:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},4372:(t,e,r)=>{"use strict";var n=r(4867);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(i)&&a.push("path="+i),n.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}},6268:(t,e,r)=>{"use strict";var n=r(4867);t.exports=function(t){return n.isObject(t)&&!0===t.isAxiosError}},7985:(t,e,r)=>{"use strict";var n=r(4867);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=i(window.location.href),function(e){var r=n.isString(e)?i(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},6016:(t,e,r)=>{"use strict";var n=r(4867);t.exports=function(t,e){n.forEach(t,(function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])}))}},1623:t=>{t.exports=null},4109:(t,e,r)=>{"use strict";var n=r(4867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,o,s={};return t?(n.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=n.trim(t.substr(0,o)).toLowerCase(),r=n.trim(t.substr(o+1)),e){if(s[e]&&i.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([r]):s[e]?s[e]+", "+r:r}})),s):s}},205:t=>{"use strict";t.exports=function(t){var e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}},8713:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},7675:(t,e,r)=>{"use strict";var n=r(4867);t.exports=function(t,e){e=e||new FormData;var r=[];function i(t){return null===t?"":n.isDate(t)?t.toISOString():n.isArrayBuffer(t)||n.isTypedArray(t)?"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}return function t(o,s){if(n.isPlainObject(o)||n.isArray(o)){if(-1!==r.indexOf(o))throw Error("Circular reference detected in "+s);r.push(o),n.forEach(o,(function(r,o){if(!n.isUndefined(r)){var a,u=s?s+"."+o:o;if(r&&!s&&"object"==typeof r)if(n.endsWith(o,"{}"))r=JSON.stringify(r);else if(n.endsWith(o,"[]")&&(a=n.toArray(r)))return void a.forEach((function(t){!n.isUndefined(t)&&e.append(u,i(t))}));t(r,u)}})),r.pop()}else e.append(s,i(o))}(t),e}},4875:(t,e,r)=>{"use strict";var n=r(7288).version,i=r(2648),o={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){o[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));var s={};o.transitional=function(t,e,r){function o(t,e){return"[Axios v"+n+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return function(r,n,a){if(!1===t)throw new i(o(n," has been removed"+(e?" in "+e:"")),i.ERR_DEPRECATED);return e&&!s[n]&&(s[n]=!0,console.warn(o(n," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,n,a)}},t.exports={assertOptions:function(t,e,r){if("object"!=typeof t)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(t),o=n.length;o-- >0;){var s=n[o],a=e[s];if(a){var u=t[s],c=void 0===u||a(u,s,t);if(!0!==c)throw new i("option "+s+" must be "+c,i.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new i("Unknown option "+s,i.ERR_BAD_OPTION)}},validators:o}},4867:(t,e,r)=>{"use strict";var n,i=r(1849),o=Object.prototype.toString,s=(n=Object.create(null),function(t){var e=o.call(t);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())});function a(t){return t=t.toLowerCase(),function(e){return s(e)===t}}function u(t){return Array.isArray(t)}function c(t){return void 0===t}var l=a("ArrayBuffer");function p(t){return null!==t&&"object"==typeof t}function d(t){if("object"!==s(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}var f=a("Date"),h=a("File"),_=a("Blob"),g=a("FileList");function y(t){return"[object Function]"===o.call(t)}var E=a("URLSearchParams");function m(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),u(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}var v,T=(v="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(t){return v&&t instanceof v});t.exports={isArray:u,isArrayBuffer:l,isBuffer:function(t){return null!==t&&!c(t)&&null!==t.constructor&&!c(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){var e="[object FormData]";return t&&("function"==typeof FormData&&t instanceof FormData||o.call(t)===e||y(t.toString)&&t.toString()===e)},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&l(t.buffer)},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:p,isPlainObject:d,isUndefined:c,isDate:f,isFile:h,isBlob:_,isFunction:y,isStream:function(t){return p(t)&&y(t.pipe)},isURLSearchParams:E,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:m,merge:function t(){var e={};function r(r,n){d(e[n])&&d(r)?e[n]=t(e[n],r):d(r)?e[n]=t({},r):u(r)?e[n]=r.slice():e[n]=r}for(var n=0,i=arguments.length;n<i;n++)m(arguments[n],r);return e},extend:function(t,e,r){return m(e,(function(e,n){t[n]=r&&"function"==typeof e?i(e,r):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t},inherits:function(t,e,r,n){t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,r&&Object.assign(t.prototype,r)},toFlatObject:function(t,e,r){var n,i,o,s={};e=e||{};do{for(i=(n=Object.getOwnPropertyNames(t)).length;i-- >0;)s[o=n[i]]||(e[o]=t[o],s[o]=!0);t=Object.getPrototypeOf(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},kindOf:s,kindOfTest:a,endsWith:function(t,e,r){t=String(t),(void 0===r||r>t.length)&&(r=t.length),r-=e.length;var n=t.indexOf(e,r);return-1!==n&&n===r},toArray:function(t){if(!t)return null;var e=t.length;if(c(e))return null;for(var r=new Array(e);e-- >0;)r[e]=t[e];return r},isTypedArray:T,isFileList:g}},697:(t,e,r)=>{"use strict";e.__esModule=!0;var n=r(655),i=r(2430),o=r(4481),s=r(4481),a=r(4481),u=r(41),c=r(4637),l=r(734),p=r(9915),d=r(4283),f=r(5006),h=function(){function t(){}return t.createRepository=function(e){t.ensureRepositoryConfigIsValid(e),e.options=n.__assign({api_version:"v1",override_queries:!0,timeout:3e3},e.options);var r=void 0!==e.options.http_client?e.options.http_client:new i.AxiosClient(e.options.endpoint,e.options.api_version,e.options.timeout,e.options.override_queries);return e.options.use_cache&&(r=new f.CacheClient(r)),new c.HttpRepository(r,e.app_id,e.index_id,e.token,new d.Transformer)},t.ensureRepositoryConfigIsValid=function(e){t.ensureIsDefined(e.app_id,"app_id"),t.ensureIsDefined(e.index_id,"index_id"),t.ensureIsDefined(e.token,"token"),t.ensureIsDefined(e.options.endpoint,"options.endpoint")},t.ensureIsDefined=function(t,e){if(void 0===t)throw new TypeError(e+" parameter must be defined.")},t.createQueryLocated=function(t,e,r,n){return void 0===r&&(r=o.QUERY_DEFAULT_PAGE),void 0===n&&(n=s.QUERY_DEFAULT_SIZE),a.Query.createLocated(t,e,r,n)},t.createQuery=function(t,e,r){return void 0===e&&(e=o.QUERY_DEFAULT_PAGE),void 0===r&&(r=s.QUERY_DEFAULT_SIZE),a.Query.create(t,e,r)},t.createQueryMatchAll=function(){return a.Query.createMatchAll()},t.createQueryByUUID=function(t){return a.Query.createByUUID(t)},t.createQueryByUUIDs=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a.Query.createByUUIDs.apply(a.Query,t)},t.createEmptyResult=function(){return l.Result.create("",0,0,new p.ResultAggregations(0),[],[])},t.createEmptySortBy=function(){return u.SortBy.create()},t.createEmptyScoreStrategy=function(){return u.SortBy.create()},t}();e.default=h},4289:(t,e,r)=>{"use strict";e.__esModule=!0,e.Config=e.DEFAULT_REPLICAS=e.DEFAULT_SHARDS=void 0;var n=r(9653);e.DEFAULT_SHARDS=1,e.DEFAULT_REPLICAS=0;var i=function(){function t(t,r,n,i){void 0===t&&(t=null),void 0===r&&(r=!0),void 0===n&&(n=e.DEFAULT_SHARDS),void 0===i&&(i=e.DEFAULT_REPLICAS),this.synonyms=[],this.language=t,this.storeSearchableMetadata=r,this.shards=n,this.replicas=i}return t.prototype.getLanguage=function(){return this.language},t.prototype.shouldSearchableMetadataBeStored=function(){return this.storeSearchableMetadata},t.prototype.addSynonym=function(t){this.synonyms.push(t)},t.prototype.getSynonyms=function(){return this.synonyms},t.prototype.getShards=function(){return this.shards},t.prototype.getReplicas=function(){return this.replicas},t.prototype.toArray=function(){return{language:this.language,store_searchable_metadata:this.storeSearchableMetadata,synonyms:this.synonyms.map((function(t){return t.toArray()})),shards:this.shards,replicas:this.replicas}},t.createFromArray=function(r){var i=new t(r.language?r.language:null,"boolean"!=typeof r.store_searchable_metadata||r.store_searchable_metadata);return r.synonyms instanceof Array&&r.synonyms.length>0&&(i.synonyms=r.synonyms.map((function(t){return n.Synonym.createFromArray(t)}))),i.shards="number"==typeof r.shards?r.shards:e.DEFAULT_SHARDS,i.replicas="number"==typeof r.replicas?r.replicas:e.DEFAULT_REPLICAS,i},t}();e.Config=i},9653:(t,e)=>{"use strict";e.__esModule=!0,e.Synonym=void 0;var r=function(){function t(t){this.words=t}return t.prototype.getWords=function(){return this.words},t.createbyWords=function(e){return new t(e)},t.prototype.toArray=function(){return{words:this.words}},t.createFromArray=function(e){return new t(e.words instanceof Object?e.words:[])},t.prototype.expand=function(){return this.words.join(",")},t}();e.Synonym=r},6017:(t,e,r)=>{"use strict";e.__esModule=!0,e.ConnectionError=void 0;var n=r(655),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.getTransportableHTTPError=function(){return 500},e}(r(3138).ErrorWithMessage);e.ConnectionError=i},3138:(t,e)=>{"use strict";e.__esModule=!0,e.ErrorWithMessage=void 0;e.ErrorWithMessage=function(t){this.message=t}},7380:(t,e,r)=>{"use strict";e.__esModule=!0,e.EventError=void 0;var n=r(655),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.throwEndpointNotAvailable=function(){return new e("Endpoint not available")},e}(r(3138).ErrorWithMessage);e.EventError=i},175:(t,e,r)=>{"use strict";e.__esModule=!0,e.ForbiddenError=void 0;var n=r(655),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.getTransportableHTTPError=function(){return 403},e.createAppIdIsRequiredException=function(){return new e("AppId query parameter MUST be defined with a valid value")},e.createIndexIsRequiredException=function(){return new e("Index query parameter MUST be defined with a valid value")},e.createTokenIsRequiredException=function(){return new e("Token query parameter MUST be defined with a valid value")},e}(r(3138).ErrorWithMessage);e.ForbiddenError=i},9081:(t,e,r)=>{"use strict";e.__esModule=!0,e.InvalidFormatError=void 0;var n=r(655),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.getTransportableHTTPError=function(){return 400},e.itemRepresentationNotValid=function(){return new e("Item representation not valid. Expecting Item array serialized but found malformed data")},e.itemUUIDRepresentationNotValid=function(){return new e("Item UUID representation not valid. Expecting UUID array serialized but found malformed data")},e.composedItemUUIDNotValid=function(){return new e("A composed UUID should always follow this format: {id}~{type}.")},e.querySortedByDistanceWithoutCoordinate=function(){return new e("In order to be able to sort by coordinates, you need to create a Query by using Query::createLocated() instead of Query::create()")},e.queryFormatNotValid=function(){return new e("Query Format not valid. Expecting a Query serialized but found malformed data")},e.coordinateFormatNotValid=function(){return new e("A Coordinate should always contain a lat (Latitude) and a lon (Longitude)")},e.configFormatNotValid=function(){return new e("Config Format not valid. Expecting a Config serialized but found malformed data")},e.tokenFormatNotValid=function(){return new e("Token Format not valid. Expecting a Token serialized but found malformed data")},e.indexFormatNotValid=function(){return new e("Index Format not valid. Expecting an Index serialized but found malformed data")},e.indexUUIDFormatNotValid=function(){return new e("IndexUUID Format not valid. Expecting an IndexUUID serialized but found malformed data")},e.appUUIDFormatNotValid=function(){return new e("AppUUID Format not valid. Expecting an AppUUID serialized but found malformed data")},e.campaignFormatNotValid=function(){return new e("Campaign Format not valid. Expecting a Campaign serialized but found malformed data")},e.changesFormatNotValid=function(){return new e("Changes Format not valid. Expecting a Changes serialized but found malformed data")},e.boostClauseFormatNotValid=function(){return new e("Boost clause Format not valid. Expecting a Boost clause serialized but found malformed data")},e.tokenUUIDFormatNotValid=function(){return new e("Token UUID Format not valid. Expecting a TokenUUID serialized but found malformed data")},e.userFormatNotValid=function(){return new e("User Format not valid. Expecting a User serialized but found malformed data")},e}(r(3138).ErrorWithMessage);e.InvalidFormatError=i},9134:(t,e,r)=>{"use strict";e.__esModule=!0,e.InvalidTokenError=void 0;var n=r(655),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.getTransportableHTTPError=function(){return 401},e.createInvalidTokenPermissions=function(t){return new e("Token "+t+"not valid")},e.createInvalidTokenMaxHitsPerQuery=function(t,r){return new e("Token "+t+"not valid. Max "+r+" hits allowed")},e}(r(3138).ErrorWithMessage);e.InvalidTokenError=i},8257:(t,e,r)=>{"use strict";e.__esModule=!0,e.ResourceExistsError=void 0;var n=r(655),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.getTransportableHTTPError=function(){return 409},e.indexAvailable=function(){return new e("Index exists and cannot be created again")},e.eventsIndexAvailable=function(){return new e("Events index exists and cannot be created again")},e.logsIndexAvailable=function(){return new e("Logs index exists and cannot be created again")},e}(r(3138).ErrorWithMessage);e.ResourceExistsError=i},273:(t,e,r)=>{"use strict";e.__esModule=!0,e.ResourceNotAvailableError=void 0;var n=r(655),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.getTransportableHTTPError=function(){return 404},e.indexNotAvailable=function(t){return new e("Index not available - "+t)},e.eventsIndexNotAvailable=function(t){return new e("Events not available - "+t)},e.logsIndexNotAvailable=function(t){return new e("Logs not available - "+t)},e.engineNotAvailable=function(t){return new e("Engine not available - "+t)},e}(r(3138).ErrorWithMessage);e.ResourceNotAvailableError=i},4587:(t,e,r)=>{"use strict";e.__esModule=!0,e.UnknownError=void 0;var n=r(655),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.createUnknownError=function(){return new this("Unknown error.")},e}(r(3138).ErrorWithMessage);e.UnknownError=i},52:(t,e,r)=>{"use strict";e.__esModule=!0,e.UnsupportedContentTypeError=void 0;var n=r(655),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.getTransportableHTTPError=function(){return 415},e.createUnsupportedContentTypeException=function(){return new e("This content type is not accepted. Please use application/json")},e}(r(3138).ErrorWithMessage);e.UnsupportedContentTypeError=i},9878:(t,e,r)=>{"use strict";e.__esModule=!0,e.Square=e.Polygon=e.CoordinateAndDistance=e.LocationRange=void 0;var n=r(655),i=r(5343),o=function(){function t(){}return t.fromFilterObject=function(t){throw TypeError("Method not valid")},t.prototype.toArray=function(){return{type:this.getName(),data:this.toFilterObject()}},t.createFromArray=function(t){return"CoordinateAndDistance"==t.type?s.fromFilterObject(t.data):"Polygon"==t.type?a.fromFilterObject(t.data):"Square"==t.type?u.fromFilterObject(t.data):void 0},t}();e.LocationRange=o;var s=function(t){function e(e,r){var n=t.call(this)||this;return n.coordinate=e,n.distance=r,n}return n.__extends(e,t),e.prototype.toFilterObject=function(){return{coordinate:this.coordinate.toArray(),distance:this.distance}},e.prototype.getName=function(){return"CoordinateAndDistance"},e.fromFilterObject=function(t){return new e(i.Coordinate.createFromArray(t.coordinate),t.distance)},e}(o);e.CoordinateAndDistance=s;var a=function(t){function e(e){var r=t.call(this)||this;if(e.length<3)throw new Error("A polygon needs more than two coordinates.");return r.coordinates=e,r}return n.__extends(e,t),e.prototype.toFilterObject=function(){var t=[];for(var e in this.coordinates)t.push(this.coordinates[e].toArray());return{coordinates:t}},e.prototype.getName=function(){return"Polygon"},e.fromFilterObject=function(t){var r=[];for(var n in t.coordinates)r.push(i.Coordinate.createFromArray(t.coordinates[n]));return new e(r)},e}(o);e.Polygon=a;var u=function(t){function e(e,r){var n=t.call(this)||this;return n.topLeftCoordinate=e,n.bottomRightCoordinate=r,n}return n.__extends(e,t),e.prototype.toFilterObject=function(){return{top_left:this.topLeftCoordinate.toArray(),bottom_right:this.bottomRightCoordinate.toArray()}},e.prototype.getName=function(){return"Square"},e.fromFilterObject=function(t){return new e(i.Coordinate.createFromArray(t.top_left),i.Coordinate.createFromArray(t.bottom_right))},e}(o);e.Square=u},2430:(t,e,r)=>{"use strict";e.__esModule=!0,e.AxiosClient=void 0;var n=r(655),i=r(9669),o=r(3607),s=r(6563),a=r(9313),u=function(t){function e(e,r,n,i){var o=t.call(this,r)||this;return o.host=e,o.timeout=n,o.overrideQueries=i,o.abortControllers={},o}return n.__extends(e,t),e.prototype.get=function(t,e,r,i,u){return void 0===i&&(i={}),void 0===u&&(u={}),n.__awaiter(this,void 0,void 0,(function(){var c,l,p,d;return n.__generator(this,(function(f){switch(f.label){case 0:t=t.replace(/^\/*|\/*$/g,""),t="/"+(this.version+"/"+t).replace(/^\/*|\/*$/g,""),"get"===(e=e.toLowerCase())&&this.overrideQueries&&this.abort(t,!0),c="get"===e?{}:{"Content-Encoding":"gzip","Content-Type":"application/json"},l={baseURL:this.host.replace(/\/*$/g,""),data:u,headers:c,method:e,timeout:this.timeout,transformRequest:[function(t){return JSON.stringify(t)}],url:t+"?"+s.Client.objectToUrlParameters(n.__assign(n.__assign({},i),{token:r.token})).replace(/#/g,"%23")},void 0!==this.abortControllers[t]&&(l.signal=this.abortControllers[t].signal),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.fetch(t,l,3)];case 2:return p=f.sent(),[2,new a.Response(p.status,p.data)];case 3:throw(d=f.sent()).response?new a.Response(d.response.status,d.response.data):new a.Response(o.ConnectionError.getTransportableHTTPError(),{message:d.message});case 4:return[2]}}))}))},e.prototype.abort=function(t,e){e||(t=t.replace(/^\/*|\/*$/g,""),t="/"+(this.version+"/"+t).replace(/^\/*|\/*$/g,"")),void 0!==this.abortControllers[t]&&this.abortControllers[t].abort(),this.generateAbortController(t)},e.prototype.generateAbortController=function(t){this.abortControllers[t]=new AbortController},e.prototype.fetch=function(t,e,r){return n.__awaiter(this,void 0,void 0,(function(){var o=this;return n.__generator(this,(function(n){switch(n.label){case 0:return[4,i.default.request(e).then((function(t){return{data:t.data,status:t.status}})).catch((function(n){var i=n.response;if(void 0!==n.code&&"ECONNREFUSED"!==n.code&&"ECONNABORTED"!==n.code&&"ERR_BAD_REQUEST"!==n.code&&"Network Error"!==n.message)return{data:i.data,status:i.status};if(r<=0)throw n;return r-=1,o.fetch(t,e,r)}))];case 1:return[2,n.sent()]}}))}))},e}(s.Client);e.AxiosClient=u},5006:(t,e,r)=>{"use strict";e.__esModule=!0,e.CacheClient=void 0;var n=r(655),i=r(4758),o=function(){function t(t){this.cache={},this.hits=0,this.httpClient=t}return t.prototype.flushCache=function(){this.cache={}},t.prototype.size=function(){return Object.keys(this.cache).length},t.prototype.getNumberOfHits=function(){return this.hits},t.prototype.get=function(t,e,r,o,s){return void 0===o&&(o={}),void 0===s&&(s={}),n.__awaiter(this,void 0,void 0,(function(){var a,u,c;return n.__generator(this,(function(n){switch(n.label){case 0:return"get"!==e?[2,this.httpClient.get(t,e,r,o,s)]:(a=i.Md5.hashStr(JSON.stringify({u:t,c:r,p:o,d:s})).toString(),this.cache[a]?[3,2]:(u=this.cache,c=a,[4,this.httpClient.get(t,e,r,o,s)]));case 1:return u[c]=n.sent(),[3,3];case 2:this.httpClient.abort(t,!1),this.hits++,n.label=3;case 3:return[2,this.cache[a]]}}))}))},t.prototype.abort=function(t,e){},t}();e.CacheClient=o},6563:(t,e)=>{"use strict";e.__esModule=!0,e.Client=void 0;var r=function(){function t(t){this.version=t.replace(/^\/*|\/*$/g,"")}return t.objectToUrlParameters=function(t){var e=[];for(var r in t)e.push(r+"="+t[r]);return e.join("&")},t}();e.Client=r},4885:(t,e)=>{"use strict";e.__esModule=!0,e.HttpClient=void 0;e.HttpClient=function(){}},9313:(t,e)=>{"use strict";e.__esModule=!0,e.Response=void 0;var r=function(){function t(t,e){this.code=t,this.body=e}return t.prototype.getCode=function(){return this.code},t.prototype.getBody=function(){return this.body},t}();e.Response=r},1382:(t,e,r)=>{"use strict";e.__esModule=!0,e.AppUUID=void 0;var n=r(9081),i=function(){function t(t){if(t.indexOf("_")>=0)throw n.InvalidFormatError.appUUIDFormatNotValid();this.id=t}return t.createById=function(e){return new t(e)},t.prototype.getId=function(){return this.id},t.prototype.toArray=function(){return{id:this.id}},t.createFromArray=function(e){return new t((e=JSON.parse(JSON.stringify(e))).id)},t.prototype.composedUUID=function(){return this.id},t}();e.AppUUID=i},4026:(t,e)=>{"use strict";e.__esModule=!0,e.Changes=e.TYPE_ARRAY=e.TYPE_ARRAY_EXPECTS_ELEMENT=e.TYPE_ARRAY_ELEMENT_DELETE=e.TYPE_ARRAY_ELEMENT_ADD=e.TYPE_ARRAY_ELEMENT_UPDATE=e.TYPE_LITERAL=e.TYPE_VALUE=void 0,e.TYPE_VALUE=1,e.TYPE_LITERAL=4,e.TYPE_ARRAY_ELEMENT_UPDATE=8,e.TYPE_ARRAY_ELEMENT_ADD=16,e.TYPE_ARRAY_ELEMENT_DELETE=32,e.TYPE_ARRAY_EXPECTS_ELEMENT=24,e.TYPE_ARRAY=56;var r=function(){function t(){this.changes=[]}return t.prototype.addChange=function(t,r,n){void 0===n&&(n=e.TYPE_VALUE),this.changes.push({field:t,type:n,value:r})},t.prototype.updateElementFromList=function(t,r,n,i){this.changes.push({field:t,type:i|e.TYPE_ARRAY_ELEMENT_UPDATE,condition:r,value:n})},t.prototype.addElementInList=function(t,r,n){this.changes.push({field:t,type:n|e.TYPE_ARRAY_ELEMENT_ADD,value:r})},t.prototype.deleteElementFromList=function(t,r){this.changes.push({field:t,type:e.TYPE_ARRAY_ELEMENT_DELETE,condition:r})},t.prototype.getChanges=function(){return this.changes},t.create=function(){return new t},t.prototype.toArray=function(){return JSON.parse(JSON.stringify(this.changes))},t.createFromArray=function(e){e=JSON.parse(JSON.stringify(e));var r=t.create();return r.changes=e,r},t}();e.Changes=r},5343:(t,e,r)=>{"use strict";e.__esModule=!0,e.Coordinate=void 0;var n=r(9081),i=function(){function t(t,e){this.lat=t,this.lon=e}return t.prototype.getLatitude=function(){return this.lat},t.prototype.getLongitude=function(){return this.lon},t.prototype.toArray=function(){return{lat:this.lat,lon:this.lon}},t.createFromArray=function(e){if(void 0===e.lat||void 0===e.lon)throw n.InvalidFormatError.coordinateFormatNotValid();return new t(e.lat,e.lon)},t}();e.Coordinate=i},4855:(t,e,r)=>{"use strict";e.__esModule=!0,e.Index=void 0;var n=r(9081),i=r(2312),o=r(1382),s=function(){function t(t,e,r,n,i){void 0===r&&(r=!1),void 0===n&&(n=0),void 0===i&&(i="0kb"),this.uuid=t,this.appUUID=e,this.isOK=r,this.docCount=n,this.size=i}return t.prototype.getUUID=function(){return this.uuid},t.prototype.getAppUUID=function(){return this.appUUID},t.prototype.isOk=function(){return this.isOK},t.prototype.getDocCount=function(){return this.docCount},t.prototype.getSize=function(){return this.size},t.prototype.toArray=function(){return{uuid:this.uuid.toArray(),app_id:this.appUUID.toArray(),is_ok:this.isOK,doc_count:this.docCount,size:this.size}},t.createFromArray=function(e){if(void 0===e.uuid||void 0===e.app_id)throw n.InvalidFormatError.indexFormatNotValid();return new t(i.IndexUUID.createFromArray(e.uuid),o.AppUUID.createFromArray(e.app_id),void 0!==e.is_ok&&e.is_ok,void 0===e.doc_count?0:e.doc_count,void 0===e.size?"0kb":e.size)},t}();e.Index=s},2312:(t,e,r)=>{"use strict";e.__esModule=!0,e.IndexUUID=void 0;var n=r(9081),i=function(){function t(t){if(t.indexOf("_")>=0)throw n.InvalidFormatError.indexUUIDFormatNotValid();this.id=t}return t.createById=function(e){return new t(e)},t.prototype.getId=function(){return this.id},t.prototype.toArray=function(){return{id:this.id}},t.createFromArray=function(e){return new t((e=JSON.parse(JSON.stringify(e))).id)},t.prototype.composedUUID=function(){return this.id},t}();e.IndexUUID=i},4232:(t,e,r)=>{"use strict";e.__esModule=!0,e.Item=void 0;var n=r(655),i=r(9081),o=r(5343),s=r(3683),a=r(1382),u=r(2312),c=function(){function t(t,e,r,n,i,o,s){this.metadata={},this.indexedMetadata={},this.searchableMetadata={},this.exactMatchingMetadata=[],this.suggest=[],this.highlights={},this.promoted=!1,this.uuid=t,this.coordinate=e,this.metadata=r,this.indexedMetadata=n,this.searchableMetadata=i,this.exactMatchingMetadata=o,this.suggest=s}return t.create=function(e,r,n,i,o,s){return void 0===r&&(r={}),void 0===n&&(n={}),void 0===i&&(i={}),void 0===o&&(o=[]),void 0===s&&(s=[]),new t(e,null,r,n,i,o,s)},t.createLocated=function(e,r,n,i,o,s,a){return void 0===n&&(n={}),void 0===i&&(i={}),void 0===o&&(o={}),void 0===s&&(s=[]),void 0===a&&(a=[]),new t(e,r,n,i,o,s,a)},t.prototype.getUUID=function(){return this.uuid},t.prototype.getId=function(){return this.uuid.getId()},t.prototype.getType=function(){return this.uuid.getType()},t.prototype.getCoordinate=function(){return this.coordinate},t.prototype.getDistance=function(){return this.distance},t.prototype.getMetadata=function(){return this.metadata},t.prototype.setMetadata=function(t){this.metadata=t},t.prototype.addMetadata=function(t,e){this.metadata[t]=e},t.prototype.getIndexedMetadata=function(){return this.indexedMetadata},t.prototype.setIndexedMetadata=function(t){this.indexedMetadata=t},t.prototype.addIndexedMetadata=function(t,e){this.indexedMetadata[t]=e},t.prototype.getSearchableMetadata=function(){return this.searchableMetadata},t.prototype.setSearchableMetadata=function(t){this.searchableMetadata=t},t.prototype.addSearchableMetadata=function(t,e){this.searchableMetadata[t]=e},t.prototype.getExactMatchingMetadata=function(){return this.exactMatchingMetadata},t.prototype.setExactMatchingMetadata=function(t){this.exactMatchingMetadata=t},t.prototype.addExactMatchingMetadata=function(t){this.exactMatchingMetadata.push(t)},t.prototype.getAllMetadata=function(){return n.__assign(n.__assign({},this.metadata),this.indexedMetadata)},t.prototype.get=function(t){var e=this.getAllMetadata();return void 0!==e[t]?e[t]:null},t.prototype.getSuggest=function(){return this.suggest},t.prototype.getHighlights=function(){return this.highlights},t.prototype.getHighlight=function(t){return void 0!==this.highlights[t]?this.highlights[t]:null},t.prototype.isPromoted=function(){return this.promoted},t.prototype.setScore=function(t){return this.score=t,this},t.prototype.getScore=function(){return this.score},t.prototype.getAppUUID=function(){return this.appUUID},t.prototype.getIndexUUID=function(){return this.indexUUID},t.prototype.toArray=function(){var t={uuid:this.uuid.toArray()};return this.coordinate instanceof o.Coordinate&&(t.coordinate=this.coordinate.toArray()),Object.keys(this.metadata).length>0&&(t.metadata=this.metadata),Object.keys(this.indexedMetadata).length>0&&(t.indexed_metadata=this.indexedMetadata),Object.keys(this.searchableMetadata).length>0&&(t.searchable_metadata=this.searchableMetadata),this.exactMatchingMetadata.length>0&&(t.exact_matching_metadata=this.exactMatchingMetadata),this.suggest.length>0&&(t.suggest=this.suggest),Object.keys(this.highlights).length>0&&(t.highlights=this.highlights),this.isPromoted()&&(t.is_promoted=!0),void 0!==this.distance&&(t.distance=this.distance),void 0!==this.score&&(t.score=this.score),void 0!==this.appUUID&&(t.app_uuid=this.appUUID.toArray()),void 0!==this.indexUUID&&(t.index_uuid=this.indexUUID.toArray()),t},t.createFromArray=function(e){if("object"!=typeof(e=JSON.parse(JSON.stringify(e))).uuid)throw i.InvalidFormatError.itemUUIDRepresentationNotValid();if(void 0!==e.coordinate&&"object"!=typeof e.coordinate)throw i.InvalidFormatError.coordinateFormatNotValid();var r="object"==typeof e.coordinate&&null!=e.coordinate?t.createLocated(s.ItemUUID.createFromArray(e.uuid),o.Coordinate.createFromArray(e.coordinate),void 0===e.metadata?{}:e.metadata,void 0===e.indexed_metadata?{}:e.indexed_metadata,void 0===e.searchable_metadata?{}:e.searchable_metadata,void 0===e.exact_matching_metadata?[]:e.exact_matching_metadata,void 0===e.suggest?[]:e.suggest):t.create(s.ItemUUID.createFromArray(e.uuid),void 0===e.metadata?{}:e.metadata,void 0===e.indexed_metadata?{}:e.indexed_metadata,void 0===e.searchable_metadata?{}:e.searchable_metadata,void 0===e.exact_matching_metadata?[]:e.exact_matching_metadata,void 0===e.suggest?[]:e.suggest);return void 0!==e.distance&&null!=e.distance&&(r.distance=e.distance),"object"==typeof e.highlights&&null!=e.highlights&&(r.highlights=e.highlights),void 0!==e.is_promoted&&null!=e.is_promoted&&(r.promoted=e.is_promoted),void 0!==e.score&&null!=e.score&&(r.score=e.score),void 0!==e.app_uuid&&null!=e.app_uuid&&(r.appUUID=a.AppUUID.createFromArray(e.app_uuid)),void 0!==e.index_uuid&&null!=e.index_uuid&&(r.indexUUID=u.IndexUUID.createFromArray(e.index_uuid)),r},t.prototype.composeUUID=function(){return this.uuid.composedUUID()},t.getPathByField=function(t){return["id","type"].indexOf(t)>-1?"uuid."+t:"indexed_metadata."+t},t}();e.Item=c},3683:(t,e,r)=>{"use strict";e.__esModule=!0,e.ItemUUID=void 0;var n=r(9081),i=function(){function t(t,e){this.id=t,this.type=e}return t.createByComposedUUID=function(e){var r=e.split("~");if(2!=r.length)throw n.InvalidFormatError.composedItemUUIDNotValid();return new t(r[0],r[1])},t.prototype.getId=function(){return this.id},t.prototype.getType=function(){return this.type},t.prototype.toArray=function(){return{id:this.id,type:this.type}},t.createFromArray=function(e){return new t((e=JSON.parse(JSON.stringify(e))).id,e.type)},t.prototype.composedUUID=function(){return this.id+"~"+this.type},t}();e.ItemUUID=i},7031:(t,e)=>{"use strict";e.__esModule=!0,e.Metadata=void 0;var r=function(){function t(){}return t.toMetadata=function(t){t=JSON.parse(JSON.stringify(t));var e=[];for(var r in t)e.push(r+"##"+t[r]);return e.join("~~")},t.fromMetadata=function(t){var e={},r=t.split("~~"),n=0,i=0,o=null;for(var s in r){var a=r[s],u=a.split("##");u.length>1?(o=u[1],e[u[0]]=o):(o=a,e[n++]=o),i++}return 1==i&&(e={id:o,name:o}),void 0===e.id?null:e},t}();e.Metadata=r},559:(t,e,r)=>{"use strict";e.__esModule=!0,e.User=void 0;var n=r(9081),i=function(){function t(t,e){void 0===e&&(e={}),this.id=t,this.attributes=e}return t.prototype.getId=function(){return this.id},t.prototype.getAttributes=function(){return this.attributes},t.prototype.toArray=function(){var t={id:this.id};return Object.keys(this.attributes).length>0&&(t.attributes=this.attributes),t},t.createFromArray=function(e){if(null==e||void 0===e.id||null==e.id)throw n.InvalidFormatError.userFormatNotValid();var r=typeof e.attributes==typeof{}?e.attributes:{};return new t(e.id,r)},t}();e.User=i},1341:(t,e,r)=>{"use strict";e.__esModule=!0,e.Aggregation=e.AGGREGATION_NO_LIMIT=e.AGGREGATION_SORT_BY_NAME_DESC=e.AGGREGATION_SORT_BY_NAME_ASC=e.AGGREGATION_SORT_BY_COUNT_DESC=e.AGGREGATION_SORT_BY_COUNT_ASC=void 0;var n=r(5908);e.AGGREGATION_SORT_BY_COUNT_ASC=["_count","asc"],e.AGGREGATION_SORT_BY_COUNT_DESC=["_count","desc"],e.AGGREGATION_SORT_BY_NAME_ASC=["_term","asc"],e.AGGREGATION_SORT_BY_NAME_DESC=["_term","desc"],e.AGGREGATION_NO_LIMIT=0;var i=function(){function t(t,e,r,n,i,o,s,a){this.subgroup=[],this.name=t,this.field=e,this.applicationType=r,this.filterType=n,this.subgroup=i,this.sort=o,this.limit=s,this.promoted=a}return t.prototype.getName=function(){return this.name},t.prototype.getField=function(){return this.field},t.prototype.getApplicationType=function(){return this.applicationType},t.prototype.getFilterType=function(){return this.filterType},t.prototype.getSubgroup=function(){return this.subgroup},t.prototype.getSort=function(){return this.sort},t.prototype.getLimit=function(){return this.limit},t.prototype.getPromoted=function(){return this.promoted},t.create=function(r,n,i,o,s,a,u,c){return void 0===s&&(s=[]),void 0===a&&(a=e.AGGREGATION_SORT_BY_COUNT_DESC),void 0===u&&(u=e.AGGREGATION_NO_LIMIT),void 0===c&&(c=[]),new t(r,n,i,o,s,a,u,c)},t.prototype.toArray=function(){var t={name:this.name};return"uuid.type"!==this.field&&(t.field=this.field),this.applicationType!==n.FILTER_AT_LEAST_ONE&&(t.application_type=this.applicationType),this.filterType!==n.FILTER_TYPE_FIELD&&(t.filter_type=this.filterType),this.subgroup.length>0&&(t.subgroup=this.subgroup),JSON.stringify(this.sort)!==JSON.stringify(e.AGGREGATION_SORT_BY_COUNT_DESC)&&(t.sort=this.sort),this.limit!==e.AGGREGATION_NO_LIMIT&&(t.limit=this.limit),this.promoted.length>0&&(t.promoted=this.promoted),t},t.createFromArray=function(r){return void 0===(r=JSON.parse(JSON.stringify(r))).field&&(r.field="uuid.type"),void 0===r.application_type&&(r.application_type=n.FILTER_AT_LEAST_ONE),void 0===r.filter_type&&(r.filter_type=n.FILTER_TYPE_FIELD),void 0===r.subgroup&&(r.subgroup=[]),void 0===r.sort&&(r.sort=e.AGGREGATION_SORT_BY_COUNT_DESC),void 0===r.limit&&(r.limit=e.AGGREGATION_NO_LIMIT),void 0===r.promoted&&(r.promoted=[]),t.create(r.name,r.field,r.application_type,r.filter_type,r.subgroup,r.sort,r.limit,r.promoted)},t}();e.Aggregation=i},5908:(t,e)=>{"use strict";e.__esModule=!0,e.Filter=e.FILTER_TYPE_QUERY=e.FILTER_TYPE_GEO=e.FILTER_TYPE_DATE_RANGE=e.FILTER_TYPE_RANGE=e.FILTER_TYPE_FIELD=e.FILTER_PROMOTE=e.FILTER_EXCLUDE=e.FILTER_AT_LEAST_ONE=e.FILTER_MUST_ALL_WITH_LEVELS=e.FILTER_MUST_ALL=void 0,e.FILTER_MUST_ALL=4,e.FILTER_MUST_ALL_WITH_LEVELS=5,e.FILTER_AT_LEAST_ONE=8,e.FILTER_EXCLUDE=16,e.FILTER_PROMOTE=32,e.FILTER_TYPE_FIELD="field",e.FILTER_TYPE_RANGE="range",e.FILTER_TYPE_DATE_RANGE="date_range",e.FILTER_TYPE_GEO="geo",e.FILTER_TYPE_QUERY="query";var r=function(){function t(t,e,r,n,i){this.field=t,this.values=e,this.applicationType=r,this.filterType=n,this.filterTerms=i}return t.prototype.getField=function(){return this.field},t.prototype.getValues=function(){return this.values},t.prototype.hasValue=function(t){return void 0===this.values[t]},t.prototype.getApplicationType=function(){return this.applicationType},t.prototype.getFilterType=function(){return this.filterType},t.prototype.getFilterTerms=function(){return this.filterTerms},t.create=function(e,r,n,i,o){return void 0===o&&(o=[]),new t(e,r,n,i,o)},t.prototype.toArray=function(){var t={};return"uuid.type"!=this.field&&(t.field=this.field),(this.values.length>0||Object.keys(this.values).length>0)&&(t.values=this.values),this.applicationType!=e.FILTER_AT_LEAST_ONE&&(t.application_type=this.applicationType),this.filterType!=e.FILTER_TYPE_FIELD&&(t.filter_type=this.filterType),this.filterTerms.length>0&&(t.filter_terms=this.filterTerms),t},t.createFromArray=function(r){return void 0===(r=JSON.parse(JSON.stringify(r))).field&&(r.field="uuid.type"),void 0===r.values&&(r.values=[]),void 0===r.application_type&&(r.application_type=e.FILTER_AT_LEAST_ONE),void 0===r.filter_type&&(r.filter_type=e.FILTER_TYPE_FIELD),void 0===r.filter_terms&&(r.filter_terms=[]),t.create(r.field,r.values,r.application_type,r.filter_type,r.filter_terms)},t}();e.Filter=r},4481:(t,e,r)=>{"use strict";e.__esModule=!0,e.Query=e.NO_MIN_SCORE=e.QUERY_DEFAULT_SIZE=e.QUERY_DEFAULT_PAGE=void 0;var n=r(655),i=r(5343),o=r(3683),s=r(4232),a=r(559),u=r(1341),c=r(5908),l=r(5908),p=r(1341),d=r(9081),f=r(5908),h=r(318),_=r(41),g=r(2312);e.QUERY_DEFAULT_PAGE=1,e.QUERY_DEFAULT_SIZE=10,e.NO_MIN_SCORE=0;var y=function(){function t(t){this.UUID=null,this.fields=[],this.universeFilters={},this.filters={},this.itemsPromoted=[],this.aggregations={},this.resultsEnabled=!0,this.aggregationsEnabled=!0,this.numberOfSuggestions=0,this.highlightsEnabled=!1,this.autocompleteEnabled=!1,this.searchableFields=[],this.fuzziness=null,this.minScore=e.NO_MIN_SCORE,this.metadata={},this.subqueries={},this.queryOperator=null,this.sortByInstance=_.SortBy.create(),this.filters._query=c.Filter.create("",[t],0,f.FILTER_TYPE_QUERY)}return t.createLocated=function(r,n,i,o){void 0===i&&(i=e.QUERY_DEFAULT_PAGE),void 0===o&&(o=e.QUERY_DEFAULT_SIZE);var s=t.create(n,i,o);return s.coordinate=r,s},t.create=function(r,n,i){void 0===n&&(n=e.QUERY_DEFAULT_PAGE),void 0===i&&(i=e.QUERY_DEFAULT_SIZE),n=Math.max(1,n);var o=new t(r);return o.from=(n-1)*i,o.size=i,o.page=n,o},t.createMatchAll=function(){return t.create("",e.QUERY_DEFAULT_PAGE,e.QUERY_DEFAULT_SIZE)},t.createByUUID=function(e){return t.createByUUIDs(e)},t.createByUUIDs=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=[];for(var o in r)i.push(r[o].composedUUID());var s=t.create("",e.QUERY_DEFAULT_PAGE,i.length).disableAggregations().disableSuggestions();return s.filters._id=c.Filter.create("_id",i,l.FILTER_AT_LEAST_ONE,l.FILTER_TYPE_FIELD),s},t.createMultiquery=function(e){var r=t.createMatchAll();return r.subqueries=e,r},t.prototype.setFields=function(t){return this.fields=t,this},t.prototype.getFields=function(){return this.fields},t.prototype.filterUniverseByTypes=function(t){var e,r=s.Item.getPathByField("type");return t.length>0?this.universeFilters=n.__assign(n.__assign({},this.universeFilters),((e={}).type=c.Filter.create(r,t,l.FILTER_AT_LEAST_ONE,l.FILTER_TYPE_FIELD),e)):delete this.universeFilters.type,this},t.prototype.filterByTypes=function(t,e,r){var i,o;void 0===e&&(e=!0),void 0===r&&(r=p.AGGREGATION_SORT_BY_COUNT_DESC);var a=s.Item.getPathByField("type");return t.length>0?this.filters=n.__assign(n.__assign({},this.filters),((i={}).type=c.Filter.create(a,t,l.FILTER_AT_LEAST_ONE,l.FILTER_TYPE_FIELD),i)):delete this.filters.type,e&&(this.aggregations=n.__assign(n.__assign({},this.aggregations),((o={}).type=u.Aggregation.create("type",a,l.FILTER_AT_LEAST_ONE,l.FILTER_TYPE_FIELD,[],r),o))),this},t.prototype.filterUniverseByIds=function(t){var e,r=s.Item.getPathByField("id");return t.length>0?this.universeFilters=n.__assign(n.__assign({},this.universeFilters),((e={}).id=c.Filter.create(r,t,l.FILTER_AT_LEAST_ONE,l.FILTER_TYPE_FIELD),e)):delete this.universeFilters.id,this},t.prototype.filterByIds=function(t){var e,r=s.Item.getPathByField("id");return t.length>0?this.filters=n.__assign(n.__assign({},this.filters),((e={}).id=c.Filter.create(r,t,l.FILTER_AT_LEAST_ONE,l.FILTER_TYPE_FIELD),e)):delete this.filters.id,this},t.prototype.filterUniverseBy=function(t,e,r){var i;void 0===r&&(r=l.FILTER_AT_LEAST_ONE);var o=s.Item.getPathByField(t);return e.length>0?this.universeFilters=n.__assign(n.__assign({},this.universeFilters),((i={})[t]=c.Filter.create(o,e,r,l.FILTER_TYPE_FIELD),i)):delete this.universeFilters[t],this},t.prototype.filterBy=function(t,e,r,i,o,a){var u;void 0===i&&(i=l.FILTER_AT_LEAST_ONE),void 0===o&&(o=!0),void 0===a&&(a=p.AGGREGATION_SORT_BY_COUNT_DESC);var d=s.Item.getPathByField(e);return r.length>0?this.filters=n.__assign(n.__assign({},this.filters),((u={})[t]=c.Filter.create(d,r,i,l.FILTER_TYPE_FIELD),u)):delete this.filters[t],o&&this.aggregateBy(t,e,i,a),this},t.prototype.filterUniverseByRange=function(t,e,r,i){var o;void 0===r&&(r=l.FILTER_AT_LEAST_ONE),void 0===i&&(i=l.FILTER_TYPE_RANGE);var a=s.Item.getPathByField(t);return e.length>0?this.universeFilters=n.__assign(n.__assign({},this.universeFilters),((o={})[t]=c.Filter.create(a,e,r,i),o)):delete this.universeFilters[t],this},t.prototype.filterUniverseByDateRange=function(t,e,r){return void 0===r&&(r=l.FILTER_AT_LEAST_ONE),this.filterUniverseByRange(t,e,r,l.FILTER_TYPE_DATE_RANGE)},t.prototype.filterByRange=function(t,e,r,i,o,a,u,d){var f;void 0===o&&(o=l.FILTER_AT_LEAST_ONE),void 0===a&&(a=l.FILTER_TYPE_RANGE),void 0===u&&(u=!0),void 0===d&&(d=p.AGGREGATION_SORT_BY_COUNT_DESC);var h=s.Item.getPathByField(e);return 0!==i.length?this.filters=n.__assign(n.__assign({},this.filters),((f={})[t]=c.Filter.create(h,i,o,a),f)):delete this.filters[t],u&&this.aggregateByRange(t,h,r,o,a,d),this},t.prototype.filterByDateRange=function(t,e,r,n,i,o,s){return void 0===i&&(i=l.FILTER_AT_LEAST_ONE),void 0===o&&(o=!0),void 0===s&&(s=p.AGGREGATION_SORT_BY_COUNT_DESC),this.filterByRange(t,e,r,n,i,l.FILTER_TYPE_DATE_RANGE,o,s)},t.prototype.filterUniverseByLocation=function(t){var e;return this.universeFilters=n.__assign(n.__assign({},this.universeFilters),((e={}).coordinate=c.Filter.create("coordinate",t.toArray(),l.FILTER_AT_LEAST_ONE,l.FILTER_TYPE_GEO),e)),this},t.prototype.setSearchableFields=function(t){return this.searchableFields=t,this},t.prototype.getSearchableFields=function(){return this.searchableFields},t.prototype.sortBy=function(t){if(t.isSortedByGeoDistance()){if(!(this.coordinate instanceof i.Coordinate))throw d.InvalidFormatError.querySortedByDistanceWithoutCoordinate();t.setCoordinate(this.coordinate)}return this.sortByInstance=t,this},t.prototype.aggregateBy=function(t,e,r,i,o,a){var c;return void 0===i&&(i=p.AGGREGATION_SORT_BY_COUNT_DESC),void 0===o&&(o=p.AGGREGATION_NO_LIMIT),void 0===a&&(a=[]),this.aggregations=n.__assign(n.__assign({},this.aggregations),((c={})[t]=u.Aggregation.create(t,s.Item.getPathByField(e),r,l.FILTER_TYPE_FIELD,[],i,o,a),c)),this},t.prototype.aggregateByRange=function(t,e,r,i,o,a,c,d){var f;return void 0===o&&(o=l.FILTER_TYPE_RANGE),void 0===a&&(a=p.AGGREGATION_SORT_BY_COUNT_DESC),void 0===c&&(c=p.AGGREGATION_NO_LIMIT),void 0===d&&(d=[]),0===r.length||(this.aggregations=n.__assign(n.__assign({},this.aggregations),((f={})[t]=u.Aggregation.create(t,s.Item.getPathByField(e),i,o,r,a,c,d),f))),this},t.prototype.aggregateByDateRange=function(t,e,r,n,i,o,s){return void 0===i&&(i=p.AGGREGATION_SORT_BY_COUNT_DESC),void 0===o&&(o=p.AGGREGATION_NO_LIMIT),void 0===s&&(s=[]),this.aggregateByRange(t,e,r,n,l.FILTER_TYPE_DATE_RANGE,i,o,s)},t.prototype.getAggregations=function(){return this.aggregations},t.prototype.getAggregation=function(t){return this.aggregations[t]instanceof u.Aggregation?this.aggregations[t]:null},t.prototype.getQueryText=function(){var t=this.filters._query;return t instanceof c.Filter?t.getValues()[0]:""},t.prototype.getUniverseFilters=function(){return this.universeFilters},t.prototype.getUniverseFilter=function(t){return this.universeFilters[t]instanceof c.Filter?this.universeFilters[t]:null},t.prototype.getFilters=function(){return this.filters},t.prototype.getFilter=function(t){return this.filters[t]instanceof c.Filter?this.filters[t]:null},t.prototype.getFilterByField=function(t){var e=s.Item.getPathByField(t);for(var r in this.filters)if(this.filters[r].getField()==e)return this.filters[r];return null},t.prototype.getSortBy=function(){return this.sortByInstance},t.prototype.getFrom=function(){return this.from},t.prototype.getSize=function(){return this.size},t.prototype.getPage=function(){return this.page},t.prototype.enableResults=function(){return this.resultsEnabled=!0,this},t.prototype.disableResults=function(){return this.resultsEnabled=!1,this},t.prototype.areResultsEnabled=function(){return this.resultsEnabled},t.prototype.enableAggregations=function(){return this.aggregationsEnabled=!0,this},t.prototype.disableAggregations=function(){return this.aggregationsEnabled=!1,this},t.prototype.areAggregationsEnabled=function(){return this.aggregationsEnabled},t.prototype.setNumberOfSuggestions=function(t){return this.numberOfSuggestions=t,this},t.prototype.disableSuggestions=function(){return this.numberOfSuggestions=0,this},t.prototype.getNumberOfSuggestions=function(){return this.numberOfSuggestions},t.prototype.enableAutocomplete=function(){return this.autocompleteEnabled=!0,this},t.prototype.disableAutocomplete=function(){return this.autocompleteEnabled=!1,this},t.prototype.areAutocompleteEnabled=function(){return this.autocompleteEnabled},t.prototype.enableHighlights=function(){return this.highlightsEnabled=!0,this},t.prototype.disableHighlights=function(){return this.highlightsEnabled=!1,this},t.prototype.areHighlightsEnabled=function(){return this.highlightsEnabled},t.prototype.promoteUUID=function(t){return this.itemsPromoted.push(t),this},t.prototype.promoteUUIDs=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.itemsPromoted=t,this},t.prototype.getItemsPromoted=function(){return this.itemsPromoted},t.prototype.excludeUUID=function(t){return this.excludeUUIDs(t),this},t.prototype.excludeUUIDs=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this.filters=n.__assign(n.__assign({},this.filters),((t={}).excluded_ids=c.Filter.create("_id",e.map((function(t){return t.composedUUID()})),l.FILTER_EXCLUDE,l.FILTER_TYPE_FIELD),t)),this},t.prototype.getScoreStrategies=function(){return this.scoreStrategies},t.prototype.setScoreStrategies=function(t){return this.scoreStrategies=t,this},t.prototype.getFuzziness=function(){return this.fuzziness},t.prototype.setFuzziness=function(t){return this.fuzziness=t,this},t.prototype.setAutoFuzziness=function(){return this.fuzziness="AUTO",this},t.prototype.getMinScore=function(){return this.minScore},t.prototype.setMinScore=function(t){return this.minScore=t,this},t.prototype.byUser=function(t){return this.user=t,this},t.prototype.anonymously=function(){return this.user=null,null},t.prototype.getUser=function(){return this.user},t.prototype.setMetadataValue=function(t,e){return this.metadata[t]=e,this},t.prototype.getMetadata=function(){return this.metadata},t.prototype.addSubquery=function(t,e){return this.subqueries[t]=e,this},t.prototype.getSubqueries=function(){return this.subqueries},t.prototype.identifyWith=function(t){return this.UUID=t,this},t.prototype.getUUID=function(){return this.UUID},t.prototype.forceIndexUUID=function(t){return this.indexUUID=t,this},t.prototype.getIndexUUID=function(){return this.indexUUID},t.prototype.setQueryOperator=function(t){return this.queryOperator=t,this},t.prototype.getQueryOperator=function(){return this.queryOperator},t.prototype.toArray=function(){var t={};if(null!==this.UUID&&(t.UUID=this.UUID),""!==this.getQueryText()&&(t.q=this.getQueryText()),this.coordinate instanceof i.Coordinate&&(t.coordinate=this.coordinate.toArray()),this.fields instanceof Array&&this.fields.length>0&&(t.fields=this.fields),Object.keys(this.universeFilters).length)for(var r in t.universe_filters={},this.universeFilters){var n=this.universeFilters[r];t.universe_filters[r]=n.toArray()}if(this.filters instanceof Object&&Object.keys(this.filters).length){var o={};for(var r in this.filters){var s=this.filters[r];s.getFilterType()!==f.FILTER_TYPE_QUERY&&(o[r]=s.toArray())}Object.keys(o).length>0&&(t.filters=o)}if(this.aggregations instanceof Object&&Object.keys(this.aggregations).length)for(var r in t.aggregations={},this.aggregations){var u=this.aggregations[r];t.aggregations[r]=u.toArray()}var c=this.sortByInstance.toArray();Object.keys(c).length&&(t.sort=c);var l=this.page;l!==e.QUERY_DEFAULT_PAGE&&(t.page=l);var p=this.size;if(p!==e.QUERY_DEFAULT_SIZE&&(t.size=p),!1===this.resultsEnabled&&(t.results_enabled=!1),!0===this.autocompleteEnabled&&(t.autocomplete_enabled=!0),0!==this.numberOfSuggestions&&(t.number_of_suggestions=this.numberOfSuggestions),!0===this.highlightsEnabled&&(t.highlight_enabled=!0),!1===this.aggregationsEnabled&&(t.aggregations_enabled=!1),this.searchableFields instanceof Array&&this.searchableFields.length>0&&(t.searchable_fields=this.searchableFields),this.scoreStrategies instanceof h.ScoreStrategies){var d=this.scoreStrategies.toArray();Object.keys(d).length>0&&(t.score_strategies=d)}null!==this.fuzziness&&(t.fuzziness=this.fuzziness);var _=this.minScore;if(_!==e.NO_MIN_SCORE&&(t.min_score=_),this.user instanceof a.User&&(t.user=this.user.toArray()),Object.keys(this.metadata).length>0&&(t.metadata=this.metadata),this.subqueries instanceof Object&&Object.keys(this.subqueries).length)for(var r in t.subqueries={},this.subqueries){var y=this.subqueries[r];t.subqueries[r]=y.toArray()}if(this.indexUUID instanceof g.IndexUUID&&(t.index_uuid=this.indexUUID.toArray()),this.itemsPromoted.length>0)for(var r in t.items_promoted=[],this.itemsPromoted)t.items_promoted.push(this.itemsPromoted[r].toArray());return"or"!==this.queryOperator&&null!==this.queryOperator&&(t.query_operator=this.queryOperator),t},t.createFromArray=function(r){var n=r.coordinate instanceof Object?t.createLocated(i.Coordinate.createFromArray(r.coordinate),r.q?r.q:"",r.page?r.page:e.QUERY_DEFAULT_PAGE,r.size?r.size:e.QUERY_DEFAULT_SIZE):t.create(r.q?r.q:"",r.page?r.page:e.QUERY_DEFAULT_PAGE,r.size?r.size:e.QUERY_DEFAULT_SIZE);n.UUID="string"==typeof r.UUID?r.UUID:void 0,n.fields=r.fields instanceof Array?r.fields:[];var s=typeof r.aggregations==typeof{}?r.aggregations:{};for(var l in s)n.aggregations[l]=u.Aggregation.createFromArray(s[l]);var p=typeof r.sort==typeof{}?r.sort:{};Object.keys(p).length>0&&(n.sortByInstance=_.SortBy.createFromArray(p));var d=typeof r.filters==typeof{}?r.filters:{};for(var l in d)n.filters[l]=c.Filter.createFromArray(d[l]);var f=typeof r.universe_filters==typeof{}?r.universe_filters:{};for(var l in f)n.universeFilters[l]=c.Filter.createFromArray(f[l]);n.resultsEnabled="boolean"!=typeof r.results_enabled||r.results_enabled,n.numberOfSuggestions="number"==typeof r.number_of_suggestions?r.number_of_suggestions:0,n.autocompleteEnabled="boolean"==typeof r.autocomplete_enabled&&r.autocomplete_enabled,n.aggregationsEnabled="boolean"!=typeof r.aggregations_enabled||r.aggregations_enabled,n.highlightsEnabled="boolean"==typeof r.highlight_enabled&&r.highlight_enabled,n.fuzziness=r.fuzziness?r.fuzziness:null,n.minScore=r.min_score?r.min_score:e.NO_MIN_SCORE;var y=typeof r.items_promoted==typeof{}?r.items_promoted:{};for(var l in y)n.itemsPromoted.push(o.ItemUUID.createFromArray(y[l]));var E=typeof r.subqueries==typeof{}?r.subqueries:{};for(var l in E)n.subqueries[l]=t.createFromArray(E[l]);return n.metadata=typeof r.metadata==typeof{}?r.metadata:{},n.searchableFields=r.searchable_fields instanceof Array?r.searchable_fields:[],n.scoreStrategies=r.score_strategies instanceof Object?h.ScoreStrategies.createFromArray(r.score_strategies):void 0,n.user=r.user instanceof Object?a.User.createFromArray(r.user):void 0,n.indexUUID=r.index_uuid instanceof Object?g.IndexUUID.createFromArray(r.index_uuid):void 0,n.queryOperator="string"==typeof r.query_operator?r.query_operator:"or",n},t}();e.Query=y},6196:(t,e)=>{"use strict";e.__esModule=!0,e.Range=e.RANGE_SEPARATOR=e.RANGE_INFINITE=e.RANGE_MINUS_INFINITE=void 0,e.RANGE_MINUS_INFINITE=null,e.RANGE_INFINITE=null,e.RANGE_SEPARATOR="..";var r=function(){function t(){}return t.stringToArray=function(t){var r=t.split(e.RANGE_SEPARATOR),n=r[0],i=r[1],o=e.RANGE_MINUS_INFINITE,s=e.RANGE_INFINITE;return""!=n&&(o=parseInt(n)),""!=i&&(s=parseInt(i)),[o,s]},t.arrayToString=function(t){var r=["",""];return t[0]!=e.RANGE_MINUS_INFINITE&&(r[0]=String(t[0])),t[1]!=e.RANGE_INFINITE&&(r[1]=String(t[1])),r.join(e.RANGE_SEPARATOR)},t.createRanges=function(t,r,n){for(var i,o=[];t<r;)i=t+n,o.push(t+e.RANGE_SEPARATOR+i),t=i;return o},t}();e.Range=r},318:(t,e,r)=>{"use strict";e.__esModule=!0,e.ScoreStrategies=e.MIN=e.MAX=e.AVG=e.SUM=e.MULTIPLY=void 0;var n=r(8207);e.MULTIPLY="multiply",e.SUM="sum",e.AVG="avg",e.MAX="max",e.MIN="min";var i=function(){function t(){this.scoreStrategies=[]}return t.createEmpty=function(r){void 0===r&&(r=e.SUM);var n=new t;return n.scoreMode=r,n},t.prototype.addScoreStrategy=function(t){return this.scoreStrategies.push(t),this},t.prototype.getScoreStrategies=function(){return this.scoreStrategies},t.prototype.getScoreMode=function(){return this.scoreMode},t.prototype.toArray=function(){var t=[];for(var e in this.scoreStrategies)t.push(this.scoreStrategies[e].toArray());return{score_mode:this.scoreMode,score_strategies:t}},t.createFromArray=function(e){var r=void 0!==(e=JSON.parse(JSON.stringify(e))).score_mode?t.createEmpty(e.score_mode):t.createEmpty();for(var i in r.scoreStrategies=[],e.score_strategies)r.scoreStrategies.push(n.ScoreStrategy.createFromArray(e.score_strategies[i]));return r},t}();e.ScoreStrategies=i},8207:(t,e,r)=>{"use strict";e.__esModule=!0,e.ScoreStrategy=e.DEFAULT_FACTOR=e.DEFAULT_MISSING=e.SCORE_MODE_MIN=e.SCORE_MODE_MAX=e.SCORE_MODE_AVG=e.SCORE_MODE_SUM=e.SCORE_MODE_NONE=e.MODIFIER_SQUARE=e.MODIFIER_LN=e.MODIFIER_LOG=e.MODIFIER_SQRT=e.MODIFIER_NONE=e.DECAY_GAUSS=e.DECAY_EXP=e.DECAY_LINEAR=e.DECAY=e.CUSTOM_FUNCTION=e.BOOSTING_FIELD_VALUE=e.DEFAULT_WEIGHT=e.DEFAULT_TYPE=void 0;var n=r(4232),i=r(5908);e.DEFAULT_TYPE="default",e.DEFAULT_WEIGHT=1,e.BOOSTING_FIELD_VALUE="field_value",e.CUSTOM_FUNCTION="custom_function",e.DECAY="decay",e.DECAY_LINEAR="linear",e.DECAY_EXP="exp",e.DECAY_GAUSS="gauss",e.MODIFIER_NONE="none",e.MODIFIER_SQRT="sqrt",e.MODIFIER_LOG="log",e.MODIFIER_LN="ln",e.MODIFIER_SQUARE="square",e.SCORE_MODE_NONE="none",e.SCORE_MODE_SUM="sum",e.SCORE_MODE_AVG="avg",e.SCORE_MODE_MAX="max",e.SCORE_MODE_MIN="min",e.DEFAULT_MISSING=1,e.DEFAULT_FACTOR=1;var o=function(){function t(){this.type=e.DEFAULT_TYPE,this.filter=null,this.weight=e.DEFAULT_WEIGHT,this.scoreMode=e.SCORE_MODE_AVG,this.configuration={}}return t.prototype.getType=function(){return this.type},t.prototype.getConfigurationValue=function(t){return void 0===this.configuration[t]?null:this.configuration[t]},t.prototype.getWeight=function(){return this.weight},t.prototype.getScoreMode=function(){return this.scoreMode},t.prototype.getFilter=function(){return this.filter},t.createDefault=function(){return new t},t.createFieldBoosting=function(r,n,i,o,s,a,u){void 0===n&&(n=e.DEFAULT_FACTOR),void 0===i&&(i=e.DEFAULT_MISSING),void 0===o&&(o=e.MODIFIER_NONE),void 0===s&&(s=e.DEFAULT_WEIGHT),void 0===a&&(a=null),void 0===u&&(u=e.SCORE_MODE_AVG);var c=t.createDefault();return c.type=e.BOOSTING_FIELD_VALUE,c.configuration.field=r,c.configuration.factor=n,c.configuration.missing=i,c.configuration.modifier=o,c.weight=s,c.filter=t.fixFilterFieldPath(a),c.scoreMode=u,c},t.createCustomFunction=function(r,n,i,o){void 0===n&&(n=e.DEFAULT_WEIGHT),void 0===i&&(i=null),void 0===o&&(o=e.SCORE_MODE_AVG);var s=t.createDefault();return s.type=e.CUSTOM_FUNCTION,s.configuration.function=r,s.weight=n,s.filter=t.fixFilterFieldPath(i),s.scoreMode=o,s},t.createDecayFunction=function(r,n,i,o,s,a,u,c,l){void 0===u&&(u=e.DEFAULT_WEIGHT),void 0===c&&(c=null),void 0===l&&(l=e.SCORE_MODE_AVG);var p=t.createDefault();return p.type=e.DECAY,p.configuration.type=r,p.configuration.field=n,p.configuration.origin=i,p.configuration.scale=o,p.configuration.offset=s,p.configuration.decay=a,p.weight=u,p.filter=t.fixFilterFieldPath(c),p.scoreMode=l,p},t.fixFilterFieldPath=function(t){if(null==t)return t;var e=t.toArray();return e.field=n.Item.getPathByField(e.field),i.Filter.createFromArray(e)},t.prototype.toArray=function(){return{type:this.type,configuration:this.configuration,weight:this.weight,score_mode:this.scoreMode,filter:this.filter instanceof i.Filter?this.filter.toArray():null}},t.createFromArray=function(e){e=JSON.parse(JSON.stringify(e));var r=t.createDefault();return void 0!==e.type&&(r.type=e.type),void 0!==e.configuration&&(r.configuration=e.configuration),void 0!==e.weight&&(r.weight=e.weight),void 0!==e.score_mode&&(r.scoreMode=e.score_mode),"object"==typeof e.filter&&null!==e.filter&&(r.filter=i.Filter.createFromArray(e.filter)),r},t}();e.ScoreStrategy=o},41:(t,e,r)=>{"use strict";e.__esModule=!0,e.SortBy=e.SORT_BY_LOCATION_MI_ASC=e.SORT_BY_LOCATION_KM_ASC=e.SORT_BY_TYPE_DESC=e.SORT_BY_TYPE_ASC=e.SORT_BY_ID_DESC=e.SORT_BY_ID_ASC=e.SORT_BY_AL_TUN_TUN=e.SORT_BY_RANDOM=e.SORT_BY_SCORE=e.SORT_BY_MODE_MEDIAN=e.SORT_BY_MODE_MAX=e.SORT_BY_MODE_MIN=e.SORT_BY_MODE_SUM=e.SORT_BY_MODE_AVG=e.SORT_BY_DESC=e.SORT_BY_ASC=e.SORT_BY_TYPE_RANDOM=e.SORT_BY_TYPE_FUNCTION=e.SORT_BY_TYPE_DISTANCE=e.SORT_BY_TYPE_SCORE=e.SORT_BY_TYPE_NESTED=e.SORT_BY_TYPE_FIELD=void 0;var n=r(3607),i=r(5908);e.SORT_BY_TYPE_FIELD="field",e.SORT_BY_TYPE_NESTED="nested",e.SORT_BY_TYPE_SCORE="score",e.SORT_BY_TYPE_DISTANCE="distance",e.SORT_BY_TYPE_FUNCTION="function",e.SORT_BY_TYPE_RANDOM="random",e.SORT_BY_ASC="asc",e.SORT_BY_DESC="desc",e.SORT_BY_MODE_AVG="avg",e.SORT_BY_MODE_SUM="sum",e.SORT_BY_MODE_MIN="min",e.SORT_BY_MODE_MAX="max",e.SORT_BY_MODE_MEDIAN="median",e.SORT_BY_SCORE={type:e.SORT_BY_TYPE_SCORE},e.SORT_BY_RANDOM={type:e.SORT_BY_TYPE_RANDOM},e.SORT_BY_AL_TUN_TUN=e.SORT_BY_RANDOM,e.SORT_BY_ID_ASC={field:"uuid.id",order:e.SORT_BY_ASC},e.SORT_BY_ID_DESC={field:"uuid.id",order:e.SORT_BY_DESC},e.SORT_BY_TYPE_ASC={field:"uuid.type",order:e.SORT_BY_ASC},e.SORT_BY_TYPE_DESC={field:"uuid.type",order:e.SORT_BY_DESC},e.SORT_BY_LOCATION_KM_ASC={type:e.SORT_BY_TYPE_DISTANCE,unit:"km"},e.SORT_BY_LOCATION_MI_ASC={type:e.SORT_BY_TYPE_DISTANCE,unit:"mi"};var o=function(){function t(){this.sortsBy=[]}return t.create=function(){return new t},t.byFieldsValues=function(e){var r=t.create();for(var n in e)r.byFieldValue(n,e[n]);return r},t.prototype.all=function(){return this.sortsBy.length>0?this.sortsBy:[e.SORT_BY_SCORE]},t.prototype.byValue=function(t){return e.SORT_BY_SCORE!=t&&e.SORT_BY_RANDOM!=t&&void 0===t.type&&(t.type=e.SORT_BY_TYPE_FIELD),e.SORT_BY_SCORE!=t&&this.sortsBy.push(t),this},t.prototype.byFieldValue=function(t,r){return this.sortsBy.push({type:e.SORT_BY_TYPE_FIELD,field:n.Item.getPathByField(t),order:r}),this},t.prototype.byNestedField=function(t,r,n){return void 0===n&&(n=e.SORT_BY_MODE_AVG),this.sortsBy.push({type:e.SORT_BY_TYPE_NESTED,mode:n,field:"indexed_metadata."+t,order:r}),this},t.prototype.byNestedFieldAndFilter=function(t,r,o,s){void 0===s&&(s=e.SORT_BY_MODE_AVG);var a=n.Item.getPathByField(o.getField()),u=o.toArray();return u.field=a,o=i.Filter.createFromArray(u),this.sortsBy.push({type:e.SORT_BY_TYPE_NESTED,mode:s,filter:o,field:"indexed_metadata."+t,order:r}),this},t.prototype.byFunction=function(t,r){return this.sortsBy.push({type:e.SORT_BY_TYPE_FUNCTION,function:t,order:r}),this},t.prototype.isSortedByGeoDistance=function(){for(var t in this.sortsBy)if(this.sortsBy[t].type===e.SORT_BY_TYPE_DISTANCE)return!0;return!1},t.prototype.setCoordinate=function(t){for(var r in this.sortsBy)this.sortsBy[r].type===e.SORT_BY_TYPE_DISTANCE&&(this.sortsBy[r].coordinate=t);return this},t.prototype.hasRandomSort=function(){for(var t in this.sortsBy)if(this.sortsBy[t].type===e.SORT_BY_TYPE_RANDOM)return!0;return!1},t.prototype.getFirstSortAsString=function(){if(void 0===this.sortsBy[0])return"score";var t=this.sortsBy[0];if(t.type===e.SORT_BY_TYPE_RANDOM)return"random";if(t.type===e.SORT_BY_TYPE_DISTANCE)return t.type+":"+t.unit;if(t.type===e.SORT_BY_TYPE_SCORE)return"score";var r=t.field,n=t.order;return r.split(".")[1]+":"+n},t.prototype.toArray=function(){var t=this.copy().sortsBy;for(var e in t)typeof t[e].filter==typeof{}&&null!=t[e].filter&&(t[e].filter=t[e].filter.toArray()),null!==t[e].coordinate&&t[e].coordinate instanceof n.Coordinate&&(t[e].coordinate=t[e].coordinate.toArray());return t},t.createFromArray=function(r){var o=JSON.parse(JSON.stringify(r)),s=t.create();for(var a in o){var u=o[a];void 0===u.type&&(u.type=e.SORT_BY_TYPE_FIELD),typeof u.filter==typeof{}&&null!=u.filter&&(u.filter=i.Filter.createFromArray(u.filter)),null!=u.coordinate&&typeof u.coordinate==typeof{}&&(u.coordinate=n.Coordinate.createFromArray(u.coordinate)),s.sortsBy.push(u)}return s},t.prototype.copy=function(){var e=t.create();for(var r in this.sortsBy){var o=this.sortsBy[r];if("function"!=typeof o){var s=JSON.parse(JSON.stringify(o));typeof o.filter==typeof{}&&null!=o.filter&&(s.filter=i.Filter.createFromArray(o.filter.toArray())),null!=o.coordinate&&typeof o.coordinate==typeof{}&&(s.coordinate=n.Coordinate.createFromArray(o.coordinate.toArray())),e.sortsBy.push(s)}}return e},t}();e.SortBy=o},4637:(t,e,r)=>{"use strict";e.__esModule=!0,e.HttpRepository=void 0;var n=r(655),i=r(6017),o=r(9081),s=r(9134),a=r(8257),u=r(273),c=r(4587),l=r(9313),p=r(4855),d=r(4232),f=r(3683),h=r(734),_=function(t){function e(e,r,n,i,o){var s=t.call(this,r,n,i)||this;return s.httpClient=e,s.transformer=o,s}return n.__extends(e,t),e.prototype.getTransformer=function(){return this.transformer},e.prototype.addObject=function(t){var e=this.transformer.toItem(t);e instanceof d.Item&&this.addItem(e)},e.prototype.deleteObject=function(t){var e=this.transformer.toItemUUID(t);e instanceof f.ItemUUID&&this.deleteItem(e)},e.prototype.flushUpdateItems=function(t){return n.__awaiter(this,void 0,void 0,(function(){var r;return n.__generator(this,(function(n){switch(n.label){case 0:if(0===t.length)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.httpClient.get("/"+this.appId+"/indices/"+this.indexId+"/items","put",this.getCredentials(),{},t.map((function(t){return t.toArray()})))];case 2:return n.sent(),[3,4];case 3:throw r=n.sent(),e.createErrorFromResponse(r);case 4:return[2]}}))}))},e.prototype.flushDeleteItems=function(t){return n.__awaiter(this,void 0,void 0,(function(){var r;return n.__generator(this,(function(n){switch(n.label){case 0:if(0===t.length)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.httpClient.get("/"+this.appId+"/indices/"+this.indexId+"/items","delete",this.getCredentials(),{},t.map((function(t){return t.toArray()})))];case 2:return n.sent(),[3,4];case 3:throw r=n.sent(),e.createErrorFromResponse(r);case 4:return[2]}}))}))},e.prototype.query=function(t){return n.__awaiter(this,void 0,void 0,(function(){var r,i,o,s,a;return n.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.httpClient.get("/"+this.appId+"/indices/"+this.indexId,"get",this.getCredentials(),{query:JSON.stringify(t.toArray()).replace(/&/g,"%26")},{})];case 1:return r=n.sent(),[3,3];case 2:throw i=n.sent(),e.createErrorFromResponse(i);case 3:return o=h.Result.createFromArray(r.getBody()),o=this.applyTransformersToResult(o),"undefined"==typeof globalThis||"function"!=typeof globalThis.apisearchItemsTransformation?[3,5]:(a=(s=o).withItems,[4,globalThis.apisearchItemsTransformation(o.getItems())]);case 4:a.apply(s,[n.sent()]),n.label=5;case 5:return[2,o]}}))}))},e.prototype.getSimilarItems=function(t,r,i){return n.__awaiter(this,void 0,void 0,(function(){var o,s,a;return n.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.httpClient.get("/"+this.appId+"/indices/"+this.indexId+"/similar-items","get",this.getCredentials(),{},{query:t.toArray(),items_uuid:r.map((function(t){return t.toArray()})),similarity:i})];case 1:return o=n.sent(),[3,3];case 2:throw s=n.sent(),e.createErrorFromResponse(s);case 3:return a=h.Result.createFromArray(o.getBody()),[2,this.applyTransformersToResult(a)]}}))}))},e.prototype.getRecommendedItems=function(t){return n.__awaiter(this,void 0,void 0,(function(){var r,i,o;return n.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.httpClient.get("/"+this.appId+"/indices/"+this.indexId+"/recommended-items","get",this.getCredentials(),{},t.toArray())];case 1:return r=n.sent(),[3,3];case 2:throw i=n.sent(),e.createErrorFromResponse(i);case 3:return o=h.Result.createFromArray(r.getBody()),[2,this.applyTransformersToResult(o)]}}))}))},e.prototype.updateItems=function(t,r){return n.__awaiter(this,void 0,void 0,(function(){var i;return n.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.httpClient.get("/"+this.appId+"/indices/"+this.indexId+"/items/update-by-query","put",this.getCredentials(),{},{changes:r.toArray(),query:t.toArray()})];case 1:return n.sent(),[3,3];case 2:throw i=n.sent(),e.createErrorFromResponse(i);case 3:return[2]}}))}))},e.prototype.createIndex=function(t,r){return n.__awaiter(this,void 0,void 0,(function(){var i;return n.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.httpClient.get("/"+this.appId+"/indices/"+t.composedUUID(),"put",this.getCredentials(),{},r.toArray())];case 1:return n.sent(),[3,3];case 2:throw i=n.sent(),e.createErrorFromResponse(i);case 3:return[2]}}))}))},e.prototype.deleteIndex=function(t){return n.__awaiter(this,void 0,void 0,(function(){var r;return n.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.httpClient.get("/"+this.appId+"/indices/"+t.composedUUID(),"delete",this.getCredentials(),{},{})];case 1:return n.sent(),[3,3];case 2:throw r=n.sent(),e.createErrorFromResponse(r);case 3:return[2]}}))}))},e.prototype.resetIndex=function(t){return n.__awaiter(this,void 0,void 0,(function(){var r;return n.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.httpClient.get("/"+this.appId+"/indices/"+t.composedUUID()+"/reset","put",this.getCredentials(),{},{})];case 1:return n.sent(),[3,3];case 2:throw r=n.sent(),e.createErrorFromResponse(r);case 3:return[2]}}))}))},e.prototype.checkIndex=function(t){return n.__awaiter(this,void 0,void 0,(function(){var r,i;return n.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.httpClient.get("/"+this.appId+"/indices/"+t.composedUUID(),"head",this.getCredentials(),{},{})];case 1:return r=n.sent(),[3,3];case 2:throw i=n.sent(),e.createErrorFromResponse(i);case 3:return[2,200===r.getCode()]}}))}))},e.prototype.getIndices=function(){return n.__awaiter(this,void 0,void 0,(function(){var t,r,i,o,s,a;return n.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.httpClient.get("/"+this.appId+"/indices/","get",this.getCredentials(),{},{})];case 1:return t=n.sent(),[3,3];case 2:throw r=n.sent(),e.createErrorFromResponse(r);case 3:for(i=[],o=0,s=t.getBody();o<s.length;o++)a=s[o],i.push(p.Index.createFromArray(a));return[2,i]}}))}))},e.prototype.configureIndex=function(t,r){return n.__awaiter(this,void 0,void 0,(function(){var i;return n.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.httpClient.get("/"+this.appId+"/indices/"+t.composedUUID()+"/configure","put",this.getCredentials(),{},r.toArray())];case 1:return n.sent(),[3,3];case 2:throw i=n.sent(),e.createErrorFromResponse(i);case 3:return[2]}}))}))},e.prototype.pushInteraction=function(t,r,i,o,s,a,u,c){return void 0===a&&(a=null),void 0===u&&(u=null),void 0===c&&(c=0),n.__awaiter(this,void 0,void 0,(function(){var l,p;return n.__generator(this,(function(n){switch(n.label){case 0:l={query_string:o,site:a,device:u,user_id:i,position:c},n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.httpClient.get("/"+this.appId+"/indices/"+t.composedUUID()+"/items/"+r.composedUUID()+"/interaction/"+s,"post",{token:this.token},l,{})];case 2:return n.sent(),[3,4];case 3:throw p=n.sent(),e.createErrorFromResponse(p);case 4:return[2]}}))}))},e.prototype.purchase=function(t,r,i,o,s){return void 0===o&&(o=null),void 0===s&&(s=null),n.__awaiter(this,void 0,void 0,(function(){var a,u;return n.__generator(this,(function(n){switch(n.label){case 0:a={site:o,device:s,user_id:r},n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.httpClient.get("/"+this.appId+"/indices/"+t.composedUUID()+"/purchase","post",{token:this.token},a,{items_uuid:i.map((function(t){return t.toArray()}))})];case 2:return n.sent(),[3,4];case 3:throw u=n.sent(),e.createErrorFromResponse(u);case 4:return[2]}}))}))},e.prototype.getHttpClient=function(){return this.httpClient},e.prototype.getCredentials=function(){return{app_id:this.appId,token:this.token}},e.prototype.applyTransformersToResult=function(t){if(!this.transformer.hasReadTransformers())return t;var e=t.getSubresults();return Object.keys(e).length>0?(Object.keys(e).map(function(t){e[t]=this.applyTransformersToResult(e[t])}.bind(this)),h.Result.createMultiresults(e)):h.Result.create(t.getQueryUUID(),t.getTotalItems(),t.getTotalHits(),t.getAggregations(),t.getSuggestions(),this.transformer.fromItems(t.getItems()),t.getAutocomplete())},e.createErrorFromResponse=function(t){var e;if(t instanceof l.Response)switch(t.getCode()){case u.ResourceNotAvailableError.getTransportableHTTPError():e=new u.ResourceNotAvailableError(t.getBody().message);break;case s.InvalidTokenError.getTransportableHTTPError():e=new s.InvalidTokenError(t.getBody().message);break;case o.InvalidFormatError.getTransportableHTTPError():e=new o.InvalidFormatError(t.getBody().message);break;case a.ResourceExistsError.getTransportableHTTPError():e=new a.ResourceExistsError(t.getBody().message);break;case i.ConnectionError.getTransportableHTTPError():e=new i.ConnectionError(t.getBody().message)}return void 0===e?c.UnknownError.createUnknownError():e},e}(r(6339).Repository);e.HttpRepository=_},6339:(t,e,r)=>{"use strict";e.__esModule=!0,e.Repository=void 0;var n=r(655),i=function(){function t(t,e,r){this.itemsToUpdate=[],this.itemsToDelete=[],this.appId=t,this.indexId=e,this.token=r}return t.prototype.resetCachedElements=function(){this.itemsToUpdate=[],this.itemsToDelete=[]},t.prototype.addItem=function(t){this.itemsToUpdate.push(t)},t.prototype.addItems=function(t){for(var e in t)this.addItem(t[e])},t.prototype.deleteItem=function(t){this.itemsToDelete.push(t)},t.prototype.deleteItems=function(t){for(var e in t)this.deleteItem(t[e])},t.prototype.flush=function(e,r){return n.__awaiter(this,void 0,void 0,(function(){var i,o,s=this;return n.__generator(this,(function(n){return e||(e=500),r||(r=!1),r&&this.itemsToUpdate.length<e?[2]:(i=Promise.all(t.chunkArray(this.itemsToUpdate,e).map((function(t){return s.flushUpdateItems(t)})).concat(t.chunkArray(this.itemsToDelete,e).map((function(t){return s.flushDeleteItems(t)})))),o=function(){s.resetCachedElements()},i.then(o,o),[2,i])}))}))},t.chunkArray=function(t,e){for(var r=[],n=0,i=t.length;n<i;n+=e)r.push(t.slice(n,n+e));return r},t}();e.Repository=i},1777:(t,e,r)=>{"use strict";e.__esModule=!0,e.Counter=void 0;var n=r(7031),i=function(){function t(t,e,r){this.values=t,this.used=e,this.n=r}return t.prototype.getId=function(){return"string"==typeof this.values.id?this.values.id:null},t.prototype.getName=function(){return"string"==typeof this.values.name?this.values.name:null},t.prototype.getSlug=function(){return"string"==typeof this.values.slug?this.values.slug:null},t.prototype.getLevel=function(){return"number"==typeof this.values.level?this.values.level:0},t.prototype.getValues=function(){return this.values},t.prototype.isUsed=function(){return this.used},t.prototype.getN=function(){return this.n},t.createByActiveElements=function(e,r,i){var o=n.Metadata.fromMetadata(e);if(null==o)return null;for(var s=i.length,a=!1;s--;)i[s]==o.id&&(a=!0);return new t(o,a,r)},t.prototype.toArray=function(){var t={values:this.values,n:this.n};return!0===this.used&&(t.used=!0),t},t.createFromArray=function(e){return new t((e=JSON.parse(JSON.stringify(e))).values,"boolean"==typeof e.used&&e.used,e.n)},t}();e.Counter=i},734:(t,e,r)=>{"use strict";e.__esModule=!0,e.Result=void 0;var n=r(4232),i=r(9915),o=function(){function t(t,e,r){this.items=[],this.autocomplete=null,this.suggestions=[],this.subresults={},this.metadata={},this.queryUUID=t,this.totalItems=e,this.totalHits=r}return t.create=function(e,r,n,i,o,s,a,u){void 0===a&&(a=null),void 0===u&&(u={});var c=new t(e,r,n);return c.aggregations=i,c.suggestions=o,c.items=s,c.autocomplete=a,c.metadata=u,c},t.createMultiresults=function(e){var r=new t("",0,0);return r.subresults=e,r},t.prototype.addItem=function(t){this.items.push(t)},t.prototype.getItems=function(){return this.items},t.prototype.withItems=function(t){this.items=t},t.prototype.getItemsGroupedByTypes=function(){if(this.itemsGroupedByTypeCache instanceof Object&&Object.keys(this.itemsGroupedByTypeCache).length>0)return this.itemsGroupedByTypeCache;var t={};for(var e in this.items){var r=this.items[e];t[r.getType()]instanceof Array||(t[r.getType()]=[]),t[r.getType()].push(r)}return this.itemsGroupedByTypeCache=t,t},t.prototype.getItemsByType=function(t){var e=this.getItemsGroupedByTypes();return null==e[t]?[]:e[t]},t.prototype.getItemsByTypes=function(t){return this.items.filter((function(e){return t.indexOf(e.getType())>=0}))},t.prototype.getFirstItem=function(){return this.items.length>0?this.items[0]:null},t.prototype.setAggregations=function(t){this.aggregations=t},t.prototype.getAggregations=function(){return this.aggregations instanceof i.ResultAggregations?this.aggregations:null},t.prototype.getAggregation=function(t){return null==this.aggregations?null:this.aggregations.getAggregation(t)},t.prototype.hasNotEmptyAggregation=function(t){return null!=this.aggregations&&this.aggregations.hasNotEmptyAggregation(t)},t.prototype.getSuggestions=function(){return this.suggestions},t.prototype.getAutocomplete=function(){return this.autocomplete},t.prototype.getQueryUUID=function(){return this.queryUUID},t.prototype.getTotalItems=function(){return this.totalItems},t.prototype.getTotalHits=function(){return this.totalHits},t.prototype.getSubresults=function(){return this.subresults},t.prototype.getMetadata=function(){return this.metadata},t.prototype.getMetadataValue=function(t){var e;return null!==(e=this.metadata[t])&&void 0!==e?e:null},t.prototype.toArray=function(){var t={query_uuid:this.queryUUID,total_items:this.totalItems,total_hits:this.totalHits,items:this.items.map((function(t){return t.toArray()})),aggregations:null==this.aggregations?null:this.aggregations.toArray(),suggests:this.suggestions,autocomplete:null===this.autocomplete?void 0:this.autocomplete,metadata:this.metadata};if(this.subresults instanceof Object&&Object.keys(this.subresults).length)for(var e in t.subresults={},this.subresults){var r=this.subresults[e];t.subresults[e]=r.toArray()}return t},t.createFromArray=function(e){var r=t.create(e.query_uuid?e.query_uuid:"",e.total_items?e.total_items:0,e.total_hits?e.total_hits:0,e.aggregations instanceof Object?i.ResultAggregations.createFromArray(e.aggregations):null,e.suggests?e.suggests:[],e.items instanceof Array?e.items.map((function(t){return n.Item.createFromArray(t)})):[],void 0===e.autocomplete?null:e.autocomplete,void 0===e.metadata?{}:e.metadata),o=typeof e.subresults==typeof{}?e.subresults:{};for(var s in o)r.subresults[s]=t.createFromArray(o[s]);return r},t}();e.Result=o},4738:(t,e,r)=>{"use strict";e.__esModule=!0,e.ResultAggregation=void 0;var n=r(655),i=r(5908),o=r(1777),s=function(){function t(t,e,r,n,i){for(var o in void 0===i&&(i={}),this.counters={},this.highestActiveElement=0,this.name=t,this.applicationType=e,this.totalElements=r,this.activeElements={},this.metadata=i,n){var s=n[o];this.activeElements[s]=s}}return t.prototype.addCounter=function(t,e){if(0!=e){var r=o.Counter.createByActiveElements(t,e,Object.keys(this.activeElements));if(r instanceof o.Counter)return this.applicationType&i.FILTER_MUST_ALL_WITH_LEVELS&&this.applicationType&~i.FILTER_MUST_ALL&&r.isUsed()?(this.activeElements[r.getId()]=r,void(this.highestActiveElement=Math.max(r.getLevel(),this.highestActiveElement))):void(this.counters[r.getId()]=r)}},t.prototype.getName=function(){return this.name},t.prototype.getCounters=function(){return this.counters},t.prototype.getMetadata=function(){return this.metadata},t.prototype.isFilter=function(){return(this.applicationType&i.FILTER_MUST_ALL)>0},t.prototype.hasLevels=function(){return(this.applicationType&i.FILTER_MUST_ALL_WITH_LEVELS)>0},t.prototype.getCounter=function(t){return this.counters[t]instanceof o.Counter?this.counters[t]:null},t.prototype.getAllElements=function(){return n.__assign(n.__assign({},this.activeElements),this.counters)},t.prototype.getTotalElements=function(){return this.totalElements},t.prototype.getActiveElements=function(){if(0===Object.keys(this.activeElements).length)return{};if(this.applicationType===i.FILTER_MUST_ALL_WITH_LEVELS){var t=null;for(var e in this.activeElements){var r=this.activeElements[e];r instanceof o.Counter&&(null==t&&(t=r),t=t.getLevel()>r.getLevel()?t:r)}return t instanceof o.Counter?{0:t}:null}return this.activeElements},t.prototype.cleanCountersByLevel=function(){for(var t in this.counters)this.counters[t].getLevel()!==this.highestActiveElement+1&&delete this.counters[t]},t.prototype.isEmpty=function(){return 0==Object.keys(this.activeElements).length&&0==Object.keys(this.counters).length},t.prototype.toArray=function(){var t={name:this.name,counters:[],active_elements:[],metadata:this.metadata};for(var e in this.counters)t.counters.push(this.counters[e].toArray());for(var e in this.applicationType!==i.FILTER_AT_LEAST_ONE&&(t.application_type=this.applicationType),this.totalElements>0&&(t.total_elements=this.totalElements),this.activeElements){var r=this.activeElements[e];t.active_elements.push(r instanceof o.Counter?r.toArray():r)}return this.highestActiveElement>0&&(t.highest_active_level=this.highestActiveElement),0===t.counters.length&&delete t.counters,0===t.active_elements.length&&delete t.active_elements,0===Object.keys(t.metadata).length&&delete t.metadata,t},t.createFromArray=function(e){var r=[],n=e.active_elements;for(var s in n=typeof n==typeof[]?n:[]){var a=n[s];r.push(typeof a==typeof{}?o.Counter.createFromArray(a):a)}var u=new t(e.name,parseInt(e.application_type?e.application_type:i.FILTER_AT_LEAST_ONE),parseInt(e.total_elements?e.total_elements:0),[]);u.activeElements=r;var c=typeof e.counters==typeof[]?e.counters:[];for(var s in c){var l=c[s];if("function"!=typeof l){var p=o.Counter.createFromArray(l);u.counters["_"+p.getId()]=p}}return u.highestActiveElement="number"==typeof e.highest_active_level?e.highest_active_level:0,u.metadata=typeof e.metadata==typeof{}?e.metadata:{},u},t}();e.ResultAggregation=s},9915:(t,e,r)=>{"use strict";e.__esModule=!0,e.ResultAggregations=void 0;var n=r(4738),i=function(){function t(t){this.aggregations={},this.totalElements=t}return t.prototype.addAggregation=function(t,e){this.aggregations[t]=e},t.prototype.getAggregations=function(){return this.aggregations},t.prototype.getAggregation=function(t){return this.aggregations[t]instanceof n.ResultAggregation?this.aggregations[t]:null},t.prototype.hasNotEmptyAggregation=function(t){var e=this.getAggregation(t);return e instanceof n.ResultAggregation&&!e.isEmpty()},t.prototype.getTotalElements=function(){return this.totalElements},t.prototype.toArray=function(){var t={};for(var e in this.aggregations)t[e]=this.aggregations[e].toArray();var r={};return this.totalElements>0&&(r.total_elements=this.totalElements),Object.keys(t).length>0&&(r.aggregations=t),r},t.createFromArray=function(e){var r=new t("number"==typeof e.total_elements?e.total_elements:0);if(typeof e.aggregations==typeof{})for(var i in e.aggregations)r.addAggregation(i,n.ResultAggregation.createFromArray(e.aggregations[i]));return r},t}();e.ResultAggregations=i},2166:(t,e)=>{"use strict";e.__esModule=!0},4283:(t,e,r)=>{"use strict";e.__esModule=!0,e.Transformer=void 0;var n=r(4232),i=r(3683),o=function(){function t(){this.readTransformers=[],this.writeTransformers=[]}return t.prototype.addReadTransformer=function(t){this.readTransformers.push(t)},t.prototype.hasReadTransformers=function(){return this.readTransformers.length>0},t.prototype.addWriteTransformer=function(t){this.writeTransformers.push(t)},t.prototype.fromItems=function(t){var e=[];for(var r in t)e.push(this.fromItem(t[r]));return e},t.prototype.fromItem=function(t){for(var e in this.readTransformers){var r=this.readTransformers[e];if(r.isValidItem(t))return r.fromItem(t)}return t},t.prototype.toItems=function(t){var e=[];for(var r in t){var i=this.toItem(t[r]);i instanceof n.Item&&e.push(i)}return e},t.prototype.toItem=function(t){for(var e in this.writeTransformers){var r=this.writeTransformers[e];if(r.isValidObject(t))return r.toItem(t)}return t},t.prototype.toItemUUIDs=function(t){var e=[];for(var r in t){var n=this.toItemUUID(t[r]);n instanceof i.ItemUUID&&e.push(n)}return e},t.prototype.toItemUUID=function(t){for(var e in this.writeTransformers){var r=this.writeTransformers[e];if(r.isValidObject(t))return r.toItemUUID(t)}return t},t}();e.Transformer=o},700:(t,e)=>{"use strict";e.__esModule=!0},3607:(t,e,r)=>{"use strict";e.__esModule=!0;var n=r(655),i=r(697);e.default=i.default,n.__exportStar(r(4289),e),n.__exportStar(r(9653),e),n.__exportStar(r(6017),e),n.__exportStar(r(3138),e),n.__exportStar(r(7380),e),n.__exportStar(r(175),e),n.__exportStar(r(9081),e),n.__exportStar(r(9134),e),n.__exportStar(r(8257),e),n.__exportStar(r(273),e),n.__exportStar(r(52),e),n.__exportStar(r(9878),e),n.__exportStar(r(2430),e),n.__exportStar(r(6563),e),n.__exportStar(r(4885),e),n.__exportStar(r(9313),e),n.__exportStar(r(5006),e),n.__exportStar(r(4026),e),n.__exportStar(r(5343),e),n.__exportStar(r(4232),e),n.__exportStar(r(3683),e),n.__exportStar(r(7031),e),n.__exportStar(r(559),e),n.__exportStar(r(1341),e),n.__exportStar(r(5908),e),n.__exportStar(r(4481),e),n.__exportStar(r(6196),e),n.__exportStar(r(318),e),n.__exportStar(r(8207),e),n.__exportStar(r(41),e),n.__exportStar(r(4637),e),n.__exportStar(r(6339),e),n.__exportStar(r(4738),e),n.__exportStar(r(9915),e),n.__exportStar(r(1777),e),n.__exportStar(r(734),e),n.__exportStar(r(2166),e),n.__exportStar(r(4283),e),n.__exportStar(r(700),e)},4758:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return t.hashStr=function(t,e){return void 0===e&&(e=!1),this.onePassHasher.start().appendStr(t).end(e)},t.hashAsciiStr=function(t,e){return void 0===e&&(e=!1),this.onePassHasher.start().appendAsciiStr(t).end(e)},t._hex=function(e){var r,n,i,o,s=t.hexChars,a=t.hexOut;for(o=0;o<4;o+=1)for(n=8*o,r=e[o],i=0;i<8;i+=2)a[n+1+i]=s.charAt(15&r),r>>>=4,a[n+0+i]=s.charAt(15&r),r>>>=4;return a.join("")},t._md5cycle=function(t,e){var r=t[0],n=t[1],i=t[2],o=t[3];n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&i|~n&o)+e[0]-680876936|0)<<7|r>>>25)+n|0)&n|~r&i)+e[1]-389564586|0)<<12|o>>>20)+r|0)&r|~o&n)+e[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&r)+e[3]-1044525330|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&i|~n&o)+e[4]-176418897|0)<<7|r>>>25)+n|0)&n|~r&i)+e[5]+1200080426|0)<<12|o>>>20)+r|0)&r|~o&n)+e[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&r)+e[7]-45705983|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&i|~n&o)+e[8]+1770035416|0)<<7|r>>>25)+n|0)&n|~r&i)+e[9]-1958414417|0)<<12|o>>>20)+r|0)&r|~o&n)+e[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&r)+e[11]-1990404162|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&i|~n&o)+e[12]+1804603682|0)<<7|r>>>25)+n|0)&n|~r&i)+e[13]-40341101|0)<<12|o>>>20)+r|0)&r|~o&n)+e[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&r)+e[15]+1236535329|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&o|i&~o)+e[1]-165796510|0)<<5|r>>>27)+n|0)&i|n&~i)+e[6]-1069501632|0)<<9|o>>>23)+r|0)&n|r&~n)+e[11]+643717713|0)<<14|i>>>18)+o|0)&r|o&~r)+e[0]-373897302|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&o|i&~o)+e[5]-701558691|0)<<5|r>>>27)+n|0)&i|n&~i)+e[10]+38016083|0)<<9|o>>>23)+r|0)&n|r&~n)+e[15]-660478335|0)<<14|i>>>18)+o|0)&r|o&~r)+e[4]-405537848|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&o|i&~o)+e[9]+568446438|0)<<5|r>>>27)+n|0)&i|n&~i)+e[14]-1019803690|0)<<9|o>>>23)+r|0)&n|r&~n)+e[3]-187363961|0)<<14|i>>>18)+o|0)&r|o&~r)+e[8]+1163531501|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n&o|i&~o)+e[13]-1444681467|0)<<5|r>>>27)+n|0)&i|n&~i)+e[2]-51403784|0)<<9|o>>>23)+r|0)&n|r&~n)+e[7]+1735328473|0)<<14|i>>>18)+o|0)&r|o&~r)+e[12]-1926607734|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n^i^o)+e[5]-378558|0)<<4|r>>>28)+n|0)^n^i)+e[8]-2022574463|0)<<11|o>>>21)+r|0)^r^n)+e[11]+1839030562|0)<<16|i>>>16)+o|0)^o^r)+e[14]-35309556|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n^i^o)+e[1]-1530992060|0)<<4|r>>>28)+n|0)^n^i)+e[4]+1272893353|0)<<11|o>>>21)+r|0)^r^n)+e[7]-155497632|0)<<16|i>>>16)+o|0)^o^r)+e[10]-1094730640|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n^i^o)+e[13]+681279174|0)<<4|r>>>28)+n|0)^n^i)+e[0]-358537222|0)<<11|o>>>21)+r|0)^r^n)+e[3]-722521979|0)<<16|i>>>16)+o|0)^o^r)+e[6]+76029189|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((o=((o+=((r=((r+=(n^i^o)+e[9]-640364487|0)<<4|r>>>28)+n|0)^n^i)+e[12]-421815835|0)<<11|o>>>21)+r|0)^r^n)+e[15]+530742520|0)<<16|i>>>16)+o|0)^o^r)+e[2]-995338651|0)<<23|n>>>9)+i|0,n=((n+=((o=((o+=(n^((r=((r+=(i^(n|~o))+e[0]-198630844|0)<<6|r>>>26)+n|0)|~i))+e[7]+1126891415|0)<<10|o>>>22)+r|0)^((i=((i+=(r^(o|~n))+e[14]-1416354905|0)<<15|i>>>17)+o|0)|~r))+e[5]-57434055|0)<<21|n>>>11)+i|0,n=((n+=((o=((o+=(n^((r=((r+=(i^(n|~o))+e[12]+1700485571|0)<<6|r>>>26)+n|0)|~i))+e[3]-1894986606|0)<<10|o>>>22)+r|0)^((i=((i+=(r^(o|~n))+e[10]-1051523|0)<<15|i>>>17)+o|0)|~r))+e[1]-2054922799|0)<<21|n>>>11)+i|0,n=((n+=((o=((o+=(n^((r=((r+=(i^(n|~o))+e[8]+1873313359|0)<<6|r>>>26)+n|0)|~i))+e[15]-30611744|0)<<10|o>>>22)+r|0)^((i=((i+=(r^(o|~n))+e[6]-1560198380|0)<<15|i>>>17)+o|0)|~r))+e[13]+1309151649|0)<<21|n>>>11)+i|0,n=((n+=((o=((o+=(n^((r=((r+=(i^(n|~o))+e[4]-145523070|0)<<6|r>>>26)+n|0)|~i))+e[11]-1120210379|0)<<10|o>>>22)+r|0)^((i=((i+=(r^(o|~n))+e[2]+718787259|0)<<15|i>>>17)+o|0)|~r))+e[9]-343485551|0)<<21|n>>>11)+i|0,t[0]=r+t[0]|0,t[1]=n+t[1]|0,t[2]=i+t[2]|0,t[3]=o+t[3]|0},t.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},t.prototype.appendStr=function(e){var r,n,i=this._buffer8,o=this._buffer32,s=this._bufferLength;for(n=0;n<e.length;n+=1){if((r=e.charCodeAt(n))<128)i[s++]=r;else if(r<2048)i[s++]=192+(r>>>6),i[s++]=63&r|128;else if(r<55296||r>56319)i[s++]=224+(r>>>12),i[s++]=r>>>6&63|128,i[s++]=63&r|128;else{if((r=1024*(r-55296)+(e.charCodeAt(++n)-56320)+65536)>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");i[s++]=240+(r>>>18),i[s++]=r>>>12&63|128,i[s++]=r>>>6&63|128,i[s++]=63&r|128}s>=64&&(this._dataLength+=64,t._md5cycle(this._state,o),s-=64,o[0]=o[16])}return this._bufferLength=s,this},t.prototype.appendAsciiStr=function(e){for(var r,n=this._buffer8,i=this._buffer32,o=this._bufferLength,s=0;;){for(r=Math.min(e.length-s,64-o);r--;)n[o++]=e.charCodeAt(s++);if(o<64)break;this._dataLength+=64,t._md5cycle(this._state,i),o=0}return this._bufferLength=o,this},t.prototype.appendByteArray=function(e){for(var r,n=this._buffer8,i=this._buffer32,o=this._bufferLength,s=0;;){for(r=Math.min(e.length-s,64-o);r--;)n[o++]=e[s++];if(o<64)break;this._dataLength+=64,t._md5cycle(this._state,i),o=0}return this._bufferLength=o,this},t.prototype.getState=function(){var t=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[t[0],t[1],t[2],t[3]]}},t.prototype.setState=function(t){var e,r=t.buffer,n=t.state,i=this._state;for(this._dataLength=t.length,this._bufferLength=t.buflen,i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],e=0;e<r.length;e+=1)this._buffer8[e]=r.charCodeAt(e)},t.prototype.end=function(e){void 0===e&&(e=!1);var r=this._bufferLength,n=this._buffer8,i=this._buffer32,o=1+(r>>2);this._dataLength+=r;var s=8*this._dataLength;if(n[r]=128,n[r+1]=n[r+2]=n[r+3]=0,i.set(t.buffer32Identity.subarray(o),o),r>55&&(t._md5cycle(this._state,i),i.set(t.buffer32Identity)),s<=4294967295)i[14]=s;else{var a=s.toString(16).match(/(.*?)(.{0,8})$/);if(null===a)return;var u=parseInt(a[2],16),c=parseInt(a[1],16)||0;i[14]=u,i[15]=c}return t._md5cycle(this._state,i),e?this._state:t._hex(this._state)},t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,t}();if(e.Md5=r,"5d41402abc4b2a76b9719d911017c592"!==r.hashStr("hello"))throw new Error("Md5 self test failed.")},655:(t,e,r)=>{"use strict";r.r(e),r.d(e,{__assign:()=>o,__asyncDelegator:()=>v,__asyncGenerator:()=>m,__asyncValues:()=>T,__await:()=>E,__awaiter:()=>l,__classPrivateFieldGet:()=>b,__classPrivateFieldSet:()=>R,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>f,__extends:()=>i,__generator:()=>p,__importDefault:()=>S,__importStar:()=>I,__makeTemplateObject:()=>A,__metadata:()=>c,__param:()=>u,__read:()=>_,__rest:()=>s,__spread:()=>g,__spreadArrays:()=>y,__values:()=>h});var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)};function i(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var o=function(){return o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function s(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function a(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}function u(t,e){return function(r,n){e(r,n,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))}function p(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}function f(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])}function h(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(_(arguments[e]));return t}function y(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function E(t){return this instanceof E?(this.v=t,this):new E(t)}function m(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){o.push([t,e,r,n])>1||a(t,e)}))})}function a(t,e){try{(r=i[t](e)).value instanceof E?Promise.resolve(r.value.v).then(u,c):l(o[0][2],r)}catch(t){l(o[0][3],t)}var r}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function v(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(r=!r)?{value:E(t[n](e)),done:"return"===n}:i?i(e):e}:i}}function T(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=h(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){!function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)}(n,i,(e=t[r](e)).done,e.value)}))}}}function A(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function I(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}function b(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function R(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n=r(3607);return n.default})()));
//# sourceMappingURL=apisearch.min.js.map